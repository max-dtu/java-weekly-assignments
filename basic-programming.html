

<!DOCTYPE html>


<html lang="en" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Module 1: Basic Notions of Computing and Programming &#8212; 02312 Introductory Programming — Fall 2024</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script src="_static/proof/proof.js"></script>
    <script>window.MathJax = {"loader": {"load": ["[tex]/bussproofs"]}, "tex": {"packages": {"[+]": ["bussproofs"]}, "macros": {}}, "options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="_static/mathjax/es5/tex-svg.js"></script>
    <link rel="icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Module 2, Part 1: a First Taste of Java" href="java-first-taste.html" />
    <link rel="prev" title="Module 0: Overview of the Course and Assessment" href="overview.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
    
    
    
    <img src="_static/dtu.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/dtu.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Module 0: Overview of the Course and Assessment</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Module 1: Basic Notions of Computing and Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="java-first-taste.html">Module 2, Part 1: a First Taste of Java</a></li>
<li class="toctree-l1"><a class="reference internal" href="io-conditionals-strings.html">Module 2, Part 2: Console I/O, Conditionals, Strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-day-1.html">Module 3, Part 1: Lab Day</a></li>
<li class="toctree-l1"><a class="reference internal" href="loops.html">Module 3, Part 2: Loops</a></li>
<li class="toctree-l1"><a class="reference internal" href="loops2.html">Module 4, Part 1: More About Loops</a></li>
<li class="toctree-l1"><a class="reference internal" href="structured.html">Module 4, Part 2: Structured Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="arrays.html">Module 5, Part 1: Arrays</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-day-2.html">Module 5, Part 2: Lab Day</a></li>
<li class="toctree-l1"><a class="reference internal" href="simple-classes.html">Module 6, Part 1: Simple Classes and Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="arrays-simple-classes-2.html">Module 6, Part 2: More About Arrays and Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-day-3.html">Module 7, Part 1: Lab Day</a></li>
<li class="toctree-l1"><a class="reference internal" href="references-null.html">Module 7, Part 2: References, <code class="docutils literal notranslate"><span class="pre">null</span></code> values, and the <code class="docutils literal notranslate"><span class="pre">NullPointerException</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="prog-interf-encapsulation.html">Module 8, Part 1: Programming Interfaces and Encapsulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="interfaces.html">Module 8, Part 2: Java <code class="docutils literal notranslate"><span class="pre">interface</span></code>s</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-day-4.html">Module 9, Part 1: Lab Day</a></li>
<li class="toctree-l1"><a class="reference internal" href="inheritance-oo.html">Module 9, Part 2: Class Inheritance and Principles of Object-Oriented Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="inheritance-2.html">Module 10, part 1: More on Class Inheritance and <code class="docutils literal notranslate"><span class="pre">abstract</span> <span class="pre">class</span></code>es</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes-polymorphism.html">Module 10, Part 2: More on Java Classes and Polymorphism</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-day-5.html">Module 11, Part 1: Lab Day</a></li>
<li class="toctree-l1"><a class="reference internal" href="errors.html">Module 11, Part 2: Error Handling with Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="files.html">Module 12, Part 1: File I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="projects.html">Module 12, Part 2: Managing Java Projects: Packages, JAR Files, Build Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-day-6.html">Module 13, Part 1: Lab Day — Exam Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="exam-qa-lab.html">Module 13, Part 2: Exam Q&amp;A, Review, and Final Lab</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">ChangeLog</a></li>
<li class="toctree-l1"><a class="reference internal" href="jgrader.html">Appendix: Information About JGrader</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item"><nav class="sidebar-indices-items">
  <p class="sidebar-indices-items__title" role="heading" aria-level="1">Indices</p>
  <ul class="indices-link">
        <li class="toctree-l1">
          <a class="reference internal"
             href="genindex.html"
             accesskey="I">General Index</a>
        </li>
  </ul>
</nav></div>
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">



<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Module 1: Basic Notions of Computing and Programming</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#some-basic-notions-of-computing">Some Basic Notions of Computing</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-very-brief-history-of-computing-and-programming">A Very Brief History of Computing and Programming</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#early-computers-people-and-devices">Early Computers: People and Devices</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#programmable-computing-machines">Programmable Computing Machines</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#stored-program-computers-and-the-von-neumann-architecture">Stored-Program Computers and the Von Neumann Architecture</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#modern-computers">Modern Computers</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#interaction-between-a-human-and-a-computer">Interaction Between a Human and a Computer</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#storage-of-data-and-programs">Storage of Data and Programs</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-a-programming-language">What is a Programming Language?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#experimenting-with-blinkenbits">Experimenting with BlinkenBits</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#an-overview-of-blinkenbits">An Overview of BlinkenBits</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-blinkenbits-display">The BlinkenBits Display</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-blinkenbits-machine-instructions">The BlinkenBits Machine Instructions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-blinkenbits-assembly-language">The BlinkenBits Assembly Language</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references-and-further-readings">References and Further Readings</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lab-programming-exercises-with-blinkenbits">Lab: Programming Exercises with BlinkenBits</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#solutions-to-the-exercises">Solutions to the Exercises</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#solution-to-ex-asm-load-value">Solution to <span class="xref std std-ref">ex-asm-load-value</span></a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="module-1-basic-notions-of-computing-and-programming">
<span id="mod-basic-programming"></span><h1>Module 1: Basic Notions of Computing and Programming<a class="headerlink" href="#module-1-basic-notions-of-computing-and-programming" title="Permalink to this heading">#</a></h1>
<span class="target" id="index-0"></span><span class="target" id="index-1"></span><p id="index-2">In this Module we discuss
<a class="reference internal" href="#mod-basic-programming-basic-computing"><span class="std std-ref">some basic notions of computing</span></a>
and <a class="reference internal" href="#sec-basic-programming-what-is-a-prog-lang"><span class="std std-ref">what is a programming language</span></a>.
We then experiment with a simple programmable computer architecture called
<a class="reference internal" href="#sec-basic-programming-blinkenbits"><span class="std std-ref">BlinkenBits</span></a>.</p>
<section id="some-basic-notions-of-computing">
<span id="mod-basic-programming-basic-computing"></span><h2>Some Basic Notions of Computing<a class="headerlink" href="#some-basic-notions-of-computing" title="Permalink to this heading">#</a></h2>
<p>This section explains the meaning of “programming a computer” through
<a class="reference internal" href="#mod-basic-programming-computing-history"><span class="std std-ref">A Very Brief History of Computing and Programming</span></a>.  You do not need to
remember the details of the historical evolution of computing — but seeing how
problems and challenges were addressed in the past may help better understand
why modern computers are designed and programmed in a certain way.</p>
<p>Then, we will briefly discuss the
<a class="reference internal" href="#sec-basic-programming-interaction-human-computer"><span class="std std-ref">interfaces for interaction between humans and computers</span></a>,
how <a class="reference internal" href="#sec-basic-programming-storage"><span class="std std-ref">how data and programs are stored</span></a>.</p>
<section id="a-very-brief-history-of-computing-and-programming">
<span id="mod-basic-programming-computing-history"></span><h3>A Very Brief History of Computing and Programming<a class="headerlink" href="#a-very-brief-history-of-computing-and-programming" title="Permalink to this heading">#</a></h3>
<p>A key element that drives human progress is the ability to define and perform
<strong>computations</strong>, i.e. take one or more <em>inputs</em> and produce one or more <em>outputs</em>
or <em>results</em>.  In order to turn inputs into results, it is necessary to apply an
<strong>algorithm</strong>, i.e. follow a sequence of rigorous steps.</p>
<div class="proof example admonition" id="eg-computing-area-room">
<p class="admonition-title"><span class="caption-number">Example 1 </span> (Computing the area of a room)</p>
<section class="example-content" id="proof-content">
<p>If we want to compute the area of a room, we can apply the following algorithm
(for brevity, some cases are omitted with “…”).</p>
<p>We take the room measures as input (number of sides, their length, the angles at
the corners), and:</p>
<ol class="arabic simple">
<li><p>We determine (i.e. compute) what is the shape of the room.  To do this, we
follow an algorithm: we take the room measures as input, and check:</p>
<ul class="simple">
<li><p>If the room has 4 sides with 90° angles at each corner, then the result
is that the shape is a rectangle;</p></li>
<li><p>If the room has 3 sides, then the result is that the shape is a triangle;</p></li>
<li><p>…</p></li>
</ul>
</li>
<li><p>Then, using the room measures and shape as input, we compute the room area.
We follow this algorithm:</p>
<ul class="simple">
<li><p>If the room shape is a rectangle, we take the measures of two adjacent
sides (the inputs), we compute their multiplication, and the result is the
area.</p>
<ul>
<li><p>To compute the multiplication, we take the multiplication arguments (the
inputs), we follow the steps of the
<a class="reference external" href="https://en.wikipedia.org/wiki/Multiplication_algorithm#Long_multiplication">long multiplication algorithm</a>,
and we produce the desired result.</p></li>
</ul>
</li>
<li><p>If the room shape is a triangle, …</p></li>
<li><p>…</p></li>
</ul>
</li>
</ol>
</section>
</div><p>As you can notice from <a class="reference internal" href="#eg-computing-area-room">Example 1</a>, in order to compute a
result we may need to perform intermediate computations — e.g. we must first
determine the shape of a room, and then we can decide which algorithm is
appropriate for computing its area.</p>
<section id="early-computers-people-and-devices">
<span id="mod-basic-programming-computers"></span><h4>Early Computers: People and Devices<a class="headerlink" href="#early-computers-people-and-devices" title="Permalink to this heading">#</a></h4>
<p>Historically, the term <strong>computer</strong> has been used to indicate a <em>person</em> that
performs computations as a job: for instance, in the 15th and 16th century,
astronomers often called themselves “computers” (because they spent most of
their time calculating the orbits of planets), and hired “computers” as
assistants to help them.</p>
<figure class="align-default" id="id1">
<img alt="Human computer assisting an astronomer" src="_images/human-computer-1600-1700.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 1 </span><span class="caption-text">British royal astronomer John Flamsteed (at the telescope on the left) and his
paid assistant (at the table, probably doing some computing).  Etching from
1677-78.
(© The Trustees of the British Museum; CC BY-NC-SA 4.0; Museum number: 1865,0610.952.)</span><a class="headerlink" href="#id1" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>The term “computer” has been used with the meaning “human computer until the
1960s: for instance, between the 1940s and 1960s, NASA (and its precursor NACA)
used human computers to calculate the trajectories of rockets, satellites, and
spaceships, and plan the early space missions.</p>
<figure class="align-default" id="id2">
<img alt="Human computers at NACA/NASA" src="_images/naca-human-computers-1950.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 2 </span><span class="caption-text">The team of computers working on the calculations of the orbit of the Explorer 1
satellite.  Photo from the 1950s.
(Image from the NASA archives; public domain.)</span><a class="headerlink" href="#id2" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>However, performing computations by hand can be very time-consuming and
error-prone.  Therefore, many devices have been developed throughout history to
help (and later replace) human computers.  Early computing devices were
mechanical, and later electronic.  Their main drawback was that they were
<em>fixed-function</em>, i.e. they were designed and built to perform some specific
computations on the given inputs (e.g. some specific sequences of additions,
multiplications, division, …) and produce a result.  Extending those devices
to perform new types of computation was very hard: the designers needed to add
more physical components (e.g. more mechanical gears, more electric relays, more
vacuum tubes…) which made the devices more complex, and therefore more
expensive — and often more fragile and less reliable.</p>
<figure class="align-default" id="id3">
<img alt="Difference engine" src="_images/difference-engine.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 3 </span><span class="caption-text">A <a class="reference external" href="https://en.wikipedia.org/wiki/Difference_engine">difference engine</a>, designed
in the 1820s.  The machine implements a fixed computation using mechanical
gears. Its input values are set by configuring the gears and wheels in the
columns; when the crank handle (on the bottom left corner) is operated, the
machine computes its result.
(Image by Canticle at English Wikipedia; CC BY-SA 3.0; <a class="reference external" href="https://commons.wikimedia.org/w/index.php?curid=10532728">https://commons.wikimedia.org/w/index.php?curid=10532728</a>.)</span><a class="headerlink" href="#id3" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="fig-f101">
<img alt="McDonnell F-101 Voodoo" src="_images/F-101C.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 4 </span><span class="caption-text">A <a class="reference external" href="https://en.wikipedia.org/wiki/McDonnell_F-101_Voodoo">McDonnell F-101 Voodoo</a>
supersonic fighter jet. Introduced in 1957, this plane had an on-board
electrical-mechanical computer (see <a class="reference internal" href="#fig-bendix-cadc"><span class="std std-numref">Fig. 5</span></a> below), used e.g.
to perform the sophisticated computations required to estimate the air speed.
(Image by RuthAS at English Wikipedia; CC BY 3.0; <a class="reference external" href="https://commons.wikimedia.org/w/index.php?curid=26995763">https://commons.wikimedia.org/w/index.php?curid=26995763</a>.)</span><a class="headerlink" href="#fig-f101" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="fig-bendix-cadc">
<img alt="Bendix Central Air Data Computer (CADC)" src="_images/Bendix_MG-1_Central_Air_Data_Computer.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 5 </span><span class="caption-text">The <a class="reference external" href="https://en.wikipedia.org/wiki/Air_data_computer">Bendix Central Air Data Computer (CADC)</a>.
Developed in the 1950s, this computer was mounted on various warplanes —
including the McDonnell F-101 Voodoo fighter jet (<a class="reference internal" href="#fig-f101"><span class="std std-numref">Fig. 4</span></a>).
The computer received air pressure and temperature inputs from tubes and sensors
mounted on the plane, and it performed various fixed computations (e.g.,
air speed and air density); the outputs of such computations were shown to the
pilot on the cockpit dials. The computations were performed via a complicated mix
of electrical and mechanical components. If you are curious, you can find more
details and see this computer in action on <a class="reference external" href="http://www.righto.com/2023/02/bendix-central-air-data-computer-cadc.html">this blog post</a>.
(Image by KenShirriff at English Wikipedia; CC BY-SA 4.0; <a class="reference external" href="https://commons.wikimedia.org/w/index.php?curid=124396068">https://commons.wikimedia.org/w/index.php?curid=124396068</a>.)</span><a class="headerlink" href="#fig-bendix-cadc" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<span class="target" id="index-3"></span><span class="target" id="index-4"></span><span class="target" id="index-5"></span></section>
<section id="programmable-computing-machines">
<span id="sec-basic-programming-programmable-computing-machines"></span><span id="index-6"></span><h4>Programmable Computing Machines<a class="headerlink" href="#programmable-computing-machines" title="Permalink to this heading">#</a></h4>
<p>Later computing devices were designed as <strong>programmable</strong> machines: the
machine offered a set of built-in operations (e.g. additions, multiplications,
divisions, …), and the users could configure the machine to perform such
operations in a certain order, or under certain conditions, using the output
of an operation as an input for the next operation.  This way, the users
were able to set up the machine to perform new algorithms, resulting in new
kinds of computations.  These machines had some form of <strong>memory</strong> or
<strong>storage</strong>, i.e. some way to store the inputs and the results of the ongoing
computation (using e.g. the <a class="reference external" href="https://www.computerhistory.org/babbage/engines/">positions of mechanical gears</a>, or
<a class="reference external" href="https://en.wikipedia.org/wiki/Williams_tube">light dots in cathode-ray tubes</a>)
and retrieve them later for further computations.</p>
<p>To program a computing machine of this kind, the user needed to physically alter
its setup to control the flow of computations: e.g. the users had to manually
connect or disconnect electric wires, turn switches on or off, or punch holes
into a card to mechanically activate/deactivate some switches.  In other words:
“programming a computer” meant “configuring the <strong>hardware</strong> of the computer to
make it execute a desired algorithm.”</p>
<figure class="align-default" id="fig-ibm-604">
<img alt="IBM 604" src="_images/ibm-604.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 6 </span><span class="caption-text">A data center with an <a class="reference external" href="https://en.wikipedia.org/wiki/IBM_604">IBM 604 calculator</a>
(in the middle).  Introduced in 1948, this electric computer was programmed with a
plugboard like the one in <a class="reference internal" href="#fig-ibm-604-plugboard"><span class="std std-numref">Fig. 7</span></a>.
(Image by Norsk Teknisk Museum; CC BY-SA 4.0; <a class="reference external" href="https://digitaltmuseum.org/011015239225/6-3-ibm-datasenter">https://digitaltmuseum.org/011015239225/6-3-ibm-datasenter</a>.)</span><a class="headerlink" href="#fig-ibm-604" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="fig-ibm-604-plugboard">
<img alt="IBM 604 plugboard" src="_images/ibm-604-plugboard.png" />
<figcaption>
<p><span class="caption-number">Fig. 7 </span><span class="caption-text">Plugboard of an <a class="reference internal" href="#fig-ibm-604"><span class="std std-ref">IBM 604 calculator</span></a>: by changing the wiring,
it was possible to select different sequences of computations.
(Image by National Museum of American History; only usable for personal, educational, and other non-commercial uses; <a class="reference external" href="https://americanhistory.si.edu/collections/search/object/nmah_334753">https://americanhistory.si.edu/collections/search/object/nmah_334753</a>)</span><a class="headerlink" href="#fig-ibm-604-plugboard" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<span class="target" id="index-7"></span><span class="target" id="index-8"></span><span class="target" id="index-9"></span><span class="target" id="index-10"></span></section>
<section id="stored-program-computers-and-the-von-neumann-architecture">
<span id="sec-basic-programming-stored-computer-von-neumann"></span><span id="index-11"></span><h4>Stored-Program Computers and the Von Neumann Architecture<a class="headerlink" href="#stored-program-computers-and-the-von-neumann-architecture" title="Permalink to this heading">#</a></h4>
<p>Compared to human computers, the early programmable machines discussed
<a class="reference internal" href="#sec-basic-programming-programmable-computing-machines"><span class="std std-ref">above</span></a> had a
fundamental limitation: they could only be programmed via physical (hardware)
modifications.  Instead, a human computer can be “programmed” by loading a new
algorithm in memory — i.e. a human computer can read and remember the
steps of an algorithm.  Consequently, a human computer can apply an algorithm
by taking some inputs, recalling the desired algorithm steps from memory,
executing such steps, and producing a result.</p>
<p>In a similar fashion, the next phase in the evolution of computing devices were
<strong>stored-program computers</strong>, i.e. machines that could load in their memory the
steps of the algorithms that they execute.</p>
<p>This means that a user could program this kind of machine by loading a desired
sequence of <strong>machine instructions</strong> (a.k.a. <strong>machine code</strong>) in its memory,
without physically modifying the machine hardware.  Each machine instruction
specifies an operation that the machine’s <strong>Central Processing Unit (CPU)</strong> can
execute, e.g.:</p>
<ul class="simple">
<li><p>receive an input from an external device and save it in a memory location;</p></li>
<li><p>read the content of a memory location and send it to an output device;</p></li>
<li><p>read the values stored in two memory locations, compute their sum, and store
the result in another memory location;</p></li>
<li><p>check if the value stored in a certain memory location is equal to 0;</p></li>
<li><p>execute the machine instruction stored in a certain memory location;</p></li>
<li><p>…</p></li>
</ul>
<p>A sequence of such machine instructions is a <em>program</em>, and corresponds to the
steps of a desired algorithm.</p>
<figure class="align-default" id="fig-manchester-baby">
<img alt="Manchester Baby" src="_images/manchester-baby.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 8 </span><span class="caption-text">A replica of the <a class="reference external" href="https://en.wikipedia.org/wiki/Manchester_Baby">Manchester Baby</a>,
the first fully-electronic stored-program computer: it ran its first program on
21 June 1948.
(Photo by Parrot of Doom, CC BY-SA 3.0, <a class="reference external" href="https://commons.wikimedia.org/w/index.php?curid=8318196">https://commons.wikimedia.org/w/index.php?curid=8318196</a>.)</span><a class="headerlink" href="#fig-manchester-baby" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>The idea of stored-program computer was introduced in the late 1940s by John von
Neumann — and indeed, the
<a class="reference external" href="https://en.wikipedia.org/wiki/Von_Neumann_architecture"><strong>von Neumann architecture</strong></a>
is the foundation of
what we call a “computer” today: a <em>stored-program electronic computing
machine</em>.  From now on, we will use the term “computer” with this meaning;
and from this point in history, “programming a computer” means “write the
<strong>software</strong> (i.e. the program) that the computer can load in memory and
execute.”</p>
<figure class="align-default" id="id4">
<img alt="Von Neumann architecture" src="_images/Von_Neumann_Architecture.png" />
<figcaption>
<p><span class="caption-number">Fig. 9 </span><span class="caption-text">A diagram of the von Neumann architecture.  The Central Processing Unit (CPU)
can load machine instructions from the memory and execute them (via its Control
Unit); such instructions allow the CPU to perform computations (via the
Arithmetic/Logic Unit) and read or write the data stored in the memory.  The
machine instructions can also perform input and output of data from/to external
devices.
(Diagram by Kapooht; CC BY-SA 3.0;
<a class="reference external" href="https://commons.wikimedia.org/w/index.php?curid=25789639">https://commons.wikimedia.org/w/index.php?curid=25789639</a>.)</span><a class="headerlink" href="#id4" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="modern-computers">
<span id="sec-basic-programming-modern-computers"></span><h4>Modern Computers<a class="headerlink" href="#modern-computers" title="Permalink to this heading">#</a></h4>
<p>Stored-program computers are very flexible.  Since their first prototypes
(1950s) their adoption has exploded, leading to new application areas, and new
demands requiring improved performance — e.g. faster computation speeds,
larger memory sizes, smaller dimensions, lower power consumption.  Modern
computers range from very small (e.g. smart watches and cellphones) to very
large (e.g. high-performance supercomputers used for scientific simulations).
All of these different computers, at their core, are based on some variation of
the von Neumann architecture: they all work by loading a sequence of machine
instructions into their memory, and then executing such instructions — which
may input and output data from/to external devices, and read and write data
from/to the computer memory.</p>
<span class="target" id="index-12"></span><span class="target" id="index-13"></span><span class="target" id="index-14"></span><p id="index-15">During the evolution of computers, many different ideas, approaches, and
design variants have been proposed: for example, there exist several different
types of Central Processing Units (CPUs) that execute different machine
instructions — which means that e.g. a computer with an
<a class="reference external" href="https://en.wikipedia.org/wiki/X86">Intel or AMD x86 CPU</a> cannot execute the
machine instructions supported by an
<a class="reference external" href="https://en.wikipedia.org/wiki/ARM_architecture_family">ARM CPU</a>, and
<em>vice versa</em>.</p>
<p>Luckily, several aspects have been standardised across different computer
brands and designs. For example:</p>
<span class="target" id="index-16"></span><span class="target" id="index-17"></span><ul class="simple" id="index-18">
<li><p>Data and machine instructions are stored in the computer memory as numbers in
<a class="reference external" href="https://www.unm.edu/~tbeach/terms/binary.html">binary representation</a>.
A single “binary digit” can have value 0 or 1, and is called <strong>bit</strong>; a
group of 8 bits is called <strong>byte</strong>.  Storing larger numbers requires more
bits and bytes, and thus, more memory: for example, the decimal number
3147483647 is represented in binary as 10111011100110101100100111111111, hence
it requires 32 bits (i.e. 4 bytes) of computer memory.</p></li>
<li><p>Text is also stored in the computer memory using binary numbers —
with each text character represented by a different number: for example, the
character <code class="docutils literal notranslate"><span class="pre">A</span></code> is represented in memory by the binary number 01000001
(corresponding to the decimal number 65).  The modern rules for representing
(<em>encoding</em>) text characters as numbers are specified in
<a class="reference external" href="https://en.wikipedia.org/wiki/Unicode">The Unicode Standard</a>.</p></li>
</ul>
<span class="target" id="index-19"></span><span class="target" id="index-20"></span><span class="target" id="index-21"></span></section>
</section>
<section id="interaction-between-a-human-and-a-computer">
<span id="sec-basic-programming-interaction-human-computer"></span><span id="index-22"></span><h3>Interaction Between a Human and a Computer<a class="headerlink" href="#interaction-between-a-human-and-a-computer" title="Permalink to this heading">#</a></h3>
<p>Early stored-program computers were not easy to use: as you can see in
<a class="reference internal" href="#fig-manchester-baby"><span class="std std-numref">Fig. 8</span></a>, the users were often expected to flip switches and
press buttons on a control panel to modify the contents of the computer’s
memory, one bit at a time, or read the memory contents by looking at the
computer’s <a class="reference external" href="https://en.wikipedia.org/wiki/Blinkenlights">blinkenlights</a>.</p>
<p>To simplify and speed up their usage, computers were later equipped with
programs that could send and receive data from a
<a class="reference external" href="https://en.wikipedia.org/wiki/Teleprinter">teleprinter (a.k.a. teletypewriter or teletype)</a>:
the users would type commands on the teletype; the program running on the
computer would receive such commands, and then send its output back to the
teleprinter, which would print that output on a roll of paper.  Teleprinters
connected to computers were called <strong>terminals</strong> or <strong>consoles</strong>, and they
offered a so-called <strong>command-line interface (CLI)</strong> for using the computer.</p>
<figure class="align-default" id="fig-ibm-system-360">
<img alt="IBM System/360" src="_images/ibm-system-360.png" />
<figcaption>
<p><span class="caption-number">Fig. 10 </span><span class="caption-text">An IBM System/360 computer, with an operator using its command-line interface on
a teleprinter terminal.  Photo from the 1960s.
(From the IBM archives; <a class="reference external" href="https://www.ibm.com/ibm/history/ibm100/us/en/icons/system360/impacts/">https://www.ibm.com/ibm/history/ibm100/us/en/icons/system360/impacts/</a>.)</span><a class="headerlink" href="#fig-ibm-system-360" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Teleprinters were noisy and cumbersome to use, so they were later superseded by
<a class="reference external" href="https://en.wikipedia.org/wiki/Computer_terminal#Video_display_units_(VDUs)"><em>Video Display Units (VDU)s</em></a>
consisting of a monitor (replacing the roll of paper of a teletype) and a
keyboard (similar to a typewriter, but much quieter!).  Users were now able to
operate the computer by typing commands on a keyboard and seeing the computer’s
feedback on a video display.</p>
<figure class="align-default" id="fig-dec-pdp11-vt100">
<img alt="DEC VT100 terminal connected to PDP-11/70 computer" src="_images/dec-vt100-pdp-11-70.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 11 </span><span class="caption-text">A <a class="reference external" href="https://en.wikipedia.org/wiki/VT100">DEC VT100 video terminal</a> (monitor and
keyboard on the left) connected to a
<a class="reference external" href="https://en.wikipedia.org/wiki/PDP-11">DEC PDP-11/70 computer</a> (on the right).
Both the computer and the terminal were produced around the late 1970s.
(Photo by Matthew Ratzloff; CC BY-NC-ND 2.0; <a class="reference external" href="https://www.flickr.com/photos/mratzloff/9169358863">https://www.flickr.com/photos/mratzloff/9169358863</a>.)</span><a class="headerlink" href="#fig-dec-pdp11-vt100" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Later developments made computers even easier to use — especially with the
introduction of
<a class="reference external" href="https://en.wikipedia.org/wiki/Xerox_Alto">graphical user interfaces (GUI), usable by clicking on visual elements</a>.</p>
<p>However, the old-school text-based interfaces are still in use today: all major
computer operating systems (including Windows, macOS, and Linux) provide some
command-line interface resembling a terminal from the 1970s, allowing users to
issue commands (e.g. load a program from a
<a class="reference internal" href="#sec-basic-programming-storage"><span class="std std-ref">solid-state drive</span></a> into memory and
execute it) and see the resulting output.  We will use such command-line
interfaces during this course, because they allows us (as programmers) to better
understand what is happening “under the hood” of the user-friendly graphical
interface.</p>
<figure class="align-default" id="id5">
<img alt="Command-line interface on Windows 10" src="_images/windows-10-cli.png" />
<figcaption>
<p><span class="caption-number">Fig. 12 </span><span class="caption-text">Screenshot of Windows 10 with one of its command-line interfaces.</span><a class="headerlink" href="#id5" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<span class="target" id="index-23"></span><span class="target" id="index-24"></span><span class="target" id="index-25"></span><span class="target" id="index-26"></span><span class="target" id="index-27"></span></section>
<section id="storage-of-data-and-programs">
<span id="sec-basic-programming-storage"></span><span id="index-28"></span><h3>Storage of Data and Programs<a class="headerlink" href="#storage-of-data-and-programs" title="Permalink to this heading">#</a></h3>
<p>Another crucial element in the history of computing is the development of
<strong>storage</strong> for data (e.g. numbers, text, …) and programs (i.e. the machine
instructions that are executed by the CPU).  In the
<a class="reference internal" href="#sec-basic-programming-stored-computer-von-neumann"><span class="std std-ref">von Neumann architecture</span></a>
(and thus, in modern computers) the only storage that the CPU can access
directly is the <strong>Random Access Memory (RAM)</strong>, that is also called the
<strong>primary storage</strong>.  The RAM is very fast but limited in size, especially
because its cost (i.e. its price per byte) is very high; moreover, its contents
are lost when the computer is powered off.</p>
<p>For this reason, computers include <strong>secondary storage</strong> to hold programs and
data in a more permanent way.  Old computers used e.g.
rolls of <a class="reference external" href="https://en.wikipedia.org/wiki/9-track_tape">magnetic tape</a>
(visible in <a class="reference internal" href="#fig-ibm-system-360"><span class="std std-numref">Fig. 10</span></a>)
or <a class="reference external" href="https://en.wikipedia.org/wiki/Floppy_disk">floppy disks</a> as secondary storage,
while modern computers often include e.g. a
<a class="reference external" href="https://en.wikipedia.org/wiki/Solid-state_drive"><strong>solid-state drive (SSD)</strong></a>.
The secondary storage is slower than RAM, but it is also much cheaper and thus
larger in size: for example, a typical modern laptop computer may only hold 16
Gigabytes of data and programs in its RAM, while it may hold hundreds or
thousands of Gigabytes of data and programs in its SSD.  Moreover, the data and
programs saved in the secondary storage are <em>not</em> lost when the computer is
powered off.  A drawback of secondary storage is that the computer’s CPU
<em>cannot</em> typically access its contents directly.  This means that:</p>
<ul class="simple">
<li><p>The CPU cannot directly execute a program stored e.g. on an SSD: the program
must be first loaded into the computer’s RAM, and then executed.</p></li>
<li><p>A program cannot make the CPU compute a result by directly using data stored
in an SSD: the program must first load the relevant data into the computer RAM
(by using e.g. some CPU instructions for input/output); then, the program can
direct the CPU to read the loaded data to compute the desired result.</p></li>
</ul>
<span class="target" id="index-29"></span><span class="target" id="index-30"></span><span class="target" id="index-31"></span><span class="target" id="index-32"></span></section>
</section>
<section id="what-is-a-programming-language">
<span id="sec-basic-programming-what-is-a-prog-lang"></span><span id="index-33"></span><h2>What is a Programming Language?<a class="headerlink" href="#what-is-a-programming-language" title="Permalink to this heading">#</a></h2>
<p>We have seen that a computer works by executing a sequence of machine
instructions stored in its memory.  But what do these machine instructions look
like?</p>
<p>Recalling the <a class="reference internal" href="#eg-computing-area-room">opening example</a>, suppose that
we want to compute the area of a rectangle having width 3 and height 7, and
then show the result on the computer screen.  To do that on a computer with a
<a class="reference external" href="https://en.wikipedia.org/wiki/RISC-V">RISC-V CPU</a>, we could load the following
sequence of machine instructions (one per line) in the computer’s memory, and
execute them:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>00000000001000000000010000110011
00000000001000000000001010010011
00000000011100000000001100010011
00000000010100000000001110110011
00000000011000000000010010110011
00000010100100111000001110110011
00000000011100000000010010110011
11111111100000010000000100010011
00000001000100010010000000100011
00000000101000010010001000100011
00000000100100000000010100110011
00000000000100000000100010010011
00000000000000000000000001110011
</pre></div>
</div>
<p>The program above is not very readable — and yet, this is how early
programmers wrote their programs in
<a class="reference internal" href="#sec-basic-programming-stored-computer-von-neumann"><span class="std std-ref">the first stored-program computers</span></a>!</p>
<p>To make their lives a bit easier, those early programmers wrote the first
<strong>assemblers</strong>, i.e. programs that translate sequences of <strong>assembly
instructions</strong> (that are easier to read and write for humans) into machine
instructions.  The translation process is called <strong>compilation</strong>.  For instance,
an assembler can translate the following sequence of assembly instructions into
the machine instructions above:</p>
<div class="highlight-gas notranslate"><div class="highlight"><pre><span></span><span class="nf">mv</span><span class="w"> </span><span class="no">fp</span><span class="p">,</span><span class="w"> </span><span class="no">sp</span>
<span class="nf">li</span><span class="w"> </span><span class="no">t0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span>
<span class="nf">li</span><span class="w"> </span><span class="no">t1</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span>
<span class="nf">mv</span><span class="w"> </span><span class="no">t2</span><span class="p">,</span><span class="w"> </span><span class="no">t0</span>
<span class="nf">mv</span><span class="w"> </span><span class="no">s1</span><span class="p">,</span><span class="w"> </span><span class="no">t1</span>
<span class="nf">mul</span><span class="w"> </span><span class="no">t2</span><span class="p">,</span><span class="w"> </span><span class="no">t2</span><span class="p">,</span><span class="w"> </span><span class="no">s1</span>
<span class="nf">mv</span><span class="w"> </span><span class="no">s1</span><span class="p">,</span><span class="w"> </span><span class="no">t2</span>
<span class="nf">addi</span><span class="w"> </span><span class="no">sp</span><span class="p">,</span><span class="w"> </span><span class="no">sp</span><span class="p">,</span><span class="w"> </span><span class="mi">-8</span>
<span class="nf">sw</span><span class="w"> </span><span class="no">a7</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">(</span><span class="no">sp</span><span class="p">)</span>
<span class="nf">sw</span><span class="w"> </span><span class="no">a0</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">(</span><span class="no">sp</span><span class="p">)</span>
<span class="nf">mv</span><span class="w"> </span><span class="no">a0</span><span class="p">,</span><span class="w"> </span><span class="no">s1</span>
<span class="nf">li</span><span class="w"> </span><span class="no">a7</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span>
<span class="nf">ecall</span>
</pre></div>
</div>
<p>Assembly instructions are a rudimentary form of <strong>programming language</strong>, i.e. a
notation and a series of rules for writing programs that can be translated into
machine instructions and executed by the CPU of a computer.</p>
<p>Programs written in assembly are still not very readable for humans, because
assembly is a <strong>low-level</strong> language — i.e. each assembly instruction closely
corresponds to a machine instruction.  For this reason, many <strong>high-level</strong>
programming languages have been developed throughout the history of computing
(and new ones are being developed nowadays): such languages allow us to write
programs with a notation that resembles plain English and mathematical formulas.
Therefore, programs written in high-level languages are much easier to write,
read, and understand for humans, compared to programs written in assembly.</p>
<p>For example, the <strong>Java programming language</strong> allows us to write a program that
looks (roughly) like the following snippet of code:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="kd">var</span><span class="w"> </span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span>
<span class="kd">var</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">height</span><span class="p">;</span>
<span class="n">print</span><span class="p">(</span><span class="n">area</span><span class="p">);</span>
</pre></div>
</div>
<p>By reading this Java code, one can quite easily guess what it is doing (unlike
the assembly and machine instructions above). The main goal of this course we
will learn how to program a computer using the Java programming language.</p>
<span class="target" id="index-34"></span><span class="target" id="index-35"></span><span class="target" id="index-36"></span><span class="target" id="index-37"></span><span class="target" id="index-38"></span></section>
<section id="experimenting-with-blinkenbits">
<span id="sec-basic-programming-blinkenbits"></span><span id="index-39"></span><h2>Experimenting with BlinkenBits<a class="headerlink" href="#experimenting-with-blinkenbits" title="Permalink to this heading">#</a></h2>
<p>As mentioned above, high-level languages like Java are typically easier to read
and write than assembly, because they “hide” many details of the underlying
computer. This is generally desirable, but there is also a drawback: Java comes
with many concepts and tools that can be hard to grasp, especially if one does
not know how a computer works, and if one does not have previous programming
experience.</p>
<p>For this reason, before delving into Java, and in order to better grasp how a
computer works “under the hood” and how it can be programmed, we experiment with
a very limited and teaching-oriented computer called <strong>BlinkenBits</strong>.
BlinkenBits is not real hardware, but you can use it via a web-based emulator:</p>
<p><strong><a title="BlinkenBits emulator" href="https://courses.compute.dtu.dk/02312/e24/BlinkenBits">https://courses.compute.dtu.dk/02312/e24/BlinkenBits</a></strong></p>
<section id="an-overview-of-blinkenbits">
<span id="sec-basic-programming-blinkenbits-overview"></span><h3>An Overview of BlinkenBits<a class="headerlink" href="#an-overview-of-blinkenbits" title="Permalink to this heading">#</a></h3>
<p>BlinkenBits is based on the
<a class="reference internal" href="#sec-basic-programming-stored-computer-von-neumann"><span class="std std-ref">Von Neumann architecture</span></a>,
i.e., it has a memory that can contain both data and machine instructions. More
in detail:</p>
<ul class="simple">
<li><p>BlinkenBits has <strong>64 memory locations</strong>, each one having an <strong>address</strong>
between 0 and 63. Each memory location holds a value between 0 and 4095
(because each memory location contains 12 bits). The value held by each memory
location can be read or written by dedicated machine instructions (see below).</p>
<ul>
<li><p>The 8 memory locations with addresses in the range 56–63 are connected to a
<strong>8-character display</strong>: e.g., if the memory location at address 56 contains
the value 5, the first display element shows the number 5. (For more details,
see <a class="reference internal" href="#sec-basic-programming-blinkenbits-display"><span class="std std-ref">The BlinkenBits Display</span></a>.)</p></li>
</ul>
</li>
<li><p>BlinkenBits also has <strong>4 registers</strong> called <code class="docutils literal notranslate"><span class="pre">r0</span></code>, <code class="docutils literal notranslate"><span class="pre">r1</span></code>, <code class="docutils literal notranslate"><span class="pre">r2</span></code>, and <code class="docutils literal notranslate"><span class="pre">r3</span></code>. Each
register can be used to hold a value; in the case of BlinkenBits, such a value
must be between 0 and 4095 (this is because each register contains 12 bits).
The value held by each register can be used by dedicated machine instructions
to perform computations, e.g., additions and subtractions (see below).</p></li>
<li><p>BlinkenBits recognises <strong>11 different machine instructions</strong>, which can
perform tasks such as: write a value into a register, add or subtract the
contents of two registers, store the value held in a register into a memory
location — or <em>vice versa</em>, load the value held in a memory location into a
register. (The BlinkenBits instructions are illustrated in
<a class="reference internal" href="#sec-basic-programming-blinkenbits-instructions"><span class="std std-ref">The BlinkenBits Machine Instructions</span></a> and
<a class="reference internal" href="#sec-basic-programming-blinkenbits-assembly"><span class="std std-ref">The BlinkenBits Assembly Language</span></a>.)</p></li>
<li><p>BlinkenBits reads and executes machine instructions that are contained in its
memory locations; the <strong>program counter (PC)</strong> is a special register that
holds the memory address of the next instruction to be executed.</p></li>
</ul>
<p>When BlinkenBits powers up (or after it resets), every register and memory
location holds the value 0, and the program counter (PC) also contains 0:
therefore, BlinkenBits is ready to execute whatever instruction is held in the
memory location with address 0.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>From the description above, the memory locations may appear similar to the
registers <code class="docutils literal notranslate"><span class="pre">r0</span></code>…<code class="docutils literal notranslate"><span class="pre">r3</span></code>: indeed, they both hold 12-bit values. As we will see
<a class="reference internal" href="#sec-basic-programming-blinkenbits-assembly"><span class="std std-ref">shortly</span></a>, the main difference
between the two is that the BlinkenBits machine instructions can only perform
computations (additions, subtractions…) using values held in registers;
consequently, a value held in a memory location can only be used in a
computation <em>after</em> the value has been loaded into a register.</p>
</div>
</section>
<section id="the-blinkenbits-display">
<span id="sec-basic-programming-blinkenbits-display"></span><h3>The BlinkenBits Display<a class="headerlink" href="#the-blinkenbits-display" title="Permalink to this heading">#</a></h3>
<p>The BlinkenBits emulator has a 8-element display, where each element shows a
symbol that corresponds to the content of a memory location with address in the
range 56-63. <a class="reference internal" href="#table-blinkenbits-display"><span class="std std-numref">Table 1</span></a> below summarises how the values
stored at memory addresses 56–63 are visualised on the BlinkenBits display.</p>
<table class="table" id="table-blinkenbits-display">
<caption><span class="caption-number">Table 1 </span><span class="caption-text">BlinkenBits display: values and displayed symbols.</span><a class="headerlink" href="#table-blinkenbits-display" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Value(s)</p></th>
<th class="head"><p>Displayed as…</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0…9</p></td>
<td><p>Digits <code class="docutils literal notranslate"><span class="pre">0</span></code>…<code class="docutils literal notranslate"><span class="pre">9</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>10…35</p></td>
<td><p>Lowercase letters <code class="docutils literal notranslate"><span class="pre">a</span></code>…<code class="docutils literal notranslate"><span class="pre">z</span></code></p></td>
</tr>
<tr class="row-even"><td><p>36…61</p></td>
<td><p>Uppercase letters <code class="docutils literal notranslate"><span class="pre">A</span></code>…<code class="docutils literal notranslate"><span class="pre">Z</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>62</p></td>
<td><p>Underscore <code class="docutils literal notranslate"><span class="pre">_</span></code></p></td>
</tr>
<tr class="row-even"><td><p>63</p></td>
<td><p>Dot <code class="docutils literal notranslate"><span class="pre">.</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>64</p></td>
<td><p>Comma <code class="docutils literal notranslate"><span class="pre">,</span></code></p></td>
</tr>
<tr class="row-even"><td><p>65</p></td>
<td><p>Semicolon <code class="docutils literal notranslate"><span class="pre">;</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>66</p></td>
<td><p>Exclamation mark <code class="docutils literal notranslate"><span class="pre">!</span></code></p></td>
</tr>
<tr class="row-even"><td><p>67</p></td>
<td><p>Question mark <code class="docutils literal notranslate"><span class="pre">?</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>68</p></td>
<td><p>Plus sign <code class="docutils literal notranslate"><span class="pre">+</span></code></p></td>
</tr>
<tr class="row-even"><td><p>69</p></td>
<td><p>Minus sign <code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>70</p></td>
<td><p>Asterisk <code class="docutils literal notranslate"><span class="pre">*</span></code></p></td>
</tr>
<tr class="row-even"><td><p>71</p></td>
<td><p>Slash <code class="docutils literal notranslate"><span class="pre">/</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>72…4095</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">👾</span></code></p></td>
</tr>
</tbody>
</table>
<div class="exercise admonition" id="ex-blinkenbits-display">

<p class="admonition-title"><span class="caption-number">Exercise 1 </span> (Experimenting with BlinkenBits (1))</p>
<section id="exercise-content">
<p>Try visualising the symbols listed in <a class="reference internal" href="#table-blinkenbits-display"><span class="std std-numref">Table 1</span></a> at
different positions on the BlinkenBits display. For instance, try writing
the following values:</p>
<ul class="simple">
<li><p>value 43 at the memory location with address 56</p></li>
<li><p>value 14 at the memory location with address 57</p></li>
<li><p>value 19 at the memory location with address 58</p></li>
<li><p>value 66 at the memory location with address 59</p></li>
<li><p>value 62 at the memory locations with addresses 60…63</p></li>
</ul>
</section>
</div>
</section>
<section id="the-blinkenbits-machine-instructions">
<span id="sec-basic-programming-blinkenbits-instructions"></span><h3>The BlinkenBits Machine Instructions<a class="headerlink" href="#the-blinkenbits-machine-instructions" title="Permalink to this heading">#</a></h3>
<p>As mentioned <a class="reference internal" href="#sec-basic-programming-blinkenbits-overview"><span class="std std-ref">above</span></a>,
BlinkenBits recognises 11 different machine instructions. Each instruction is
codified as a value in the range 0…4095.</p>
<div class="proof example admonition" id="eg-blinkenbits-machine-instructions">
<p class="admonition-title"><span class="caption-number">Example 2 </span> (BlinkenBits machine instructions)</p>
<section class="example-content" id="proof-content">
<ul class="simple">
<li><p>The value 0 represents the “halt” instruction: when BlinkenBits executes it,
it simply does nothing and stops. (See <a class="reference internal" href="#ex-blinkenbits-halt"><span class="std std-numref">Exercise 2</span></a> below.)</p></li>
<li><p>The value 3076 represents a “register copy” instruction. More specifically:
when BlinkenBits executes that instruction, it copies the content of register
<code class="docutils literal notranslate"><span class="pre">r0</span></code> into register <code class="docutils literal notranslate"><span class="pre">r1</span></code>. (See <a class="reference internal" href="#ex-blinkenbits-copy"><span class="std std-numref">Exercise 3</span></a> below.)</p></li>
<li><p>The value 289 represents an “add” instruction. More specifically: when
BlinkenBits executes that instruction, it read the contents of registers <code class="docutils literal notranslate"><span class="pre">r0</span></code>
and <code class="docutils literal notranslate"><span class="pre">r1</span></code>, computes their addition, and writes the result into register <code class="docutils literal notranslate"><span class="pre">r2</span></code>.
(See <a class="reference internal" href="#ex-blinkenbits-add"><span class="std std-numref">Exercise 4</span></a> below.)</p></li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Many values do not correspond to any machine instruction: for instance,
BlinkenBits produces an error if it tries to “execute” the value 42. (See
<a class="reference internal" href="#ex-blinkenbits-error"><span class="std std-numref">Exercise 5</span></a> below.)</p>
</div>
</section>
</div><p>To program BlinkenBits, a programmer needs to fill its memory locations with
values that represent the intended machine instructions. Then, the programmer
can press the “run” button (<code class="docutils literal notranslate"><span class="pre">⏵</span></code>) to execute such instructions. The
next instruction to be executed is always the one contained in the memory
location whose address is in the BlinkenBits’ program counter (PC); after
an instruction is executed, the PC is updated with the address of the next
instruction to be executed. (The only exception is the “halt” instruction, which
stops the execution without updating the PC.)</p>
<div class="exercise admonition" id="ex-blinkenbits-halt">

<p class="admonition-title"><span class="caption-number">Exercise 2 </span> (Experimenting with BlinkenBits (2))</p>
<section id="exercise-content">
<p>Try resetting BlinkenBits (button <code class="docutils literal notranslate"><span class="pre">⏻</span></code>): the computer status will become
“Ready” to execute the instruction at the memory location with address 0 —
because the program counter (PC) points to that memory address.</p>
<p>Now, press either the button <code class="docutils literal notranslate"><span class="pre">1⏵</span></code> (execute next instruction) or <code class="docutils literal notranslate"><span class="pre">⏵</span></code> (run):
BlinkenBits will execute the instruction pointed by the PC, i.e., at the memory
location with address 0. That memory location contains the value 0, which (as
mentioned in <a class="reference internal" href="#eg-blinkenbits-machine-instructions">Example 2</a> above) represents
machine instruction “halt.” Consequently, BlinkenBits will change its status to
“Halted.”</p>
</section>
</div>
<div class="exercise admonition" id="ex-blinkenbits-copy">

<p class="admonition-title"><span class="caption-number">Exercise 3 </span> (Experimenting with BlinkenBits (3))</p>
<section id="exercise-content">
<p>Try resetting BlinkenBits (button <code class="docutils literal notranslate"><span class="pre">⏻</span></code>): the computer status will become
“Ready” to execute the instruction at the memory location with address 0 —
because the program counter (PC) points to that memory address.</p>
<p>Now, follow these steps:</p>
<ol class="arabic simple">
<li><p>Write the value 3076 in the memory location at address 0.</p>
<ul class="simple">
<li><p>As mentioned in <a class="reference internal" href="#eg-blinkenbits-machine-instructions">Example 2</a>, this value
represents a “register copy” instruction from register <code class="docutils literal notranslate"><span class="pre">r0</span></code> to register
<code class="docutils literal notranslate"><span class="pre">r1</span></code>.</p></li>
</ul>
</li>
<li><p>Write a value you like in the register <code class="docutils literal notranslate"><span class="pre">r0</span></code>.</p></li>
<li><p>Press the button <code class="docutils literal notranslate"><span class="pre">1⏵</span></code> (execute the next instruction).</p>
<ul class="simple">
<li><p>BlinkenBits will execute the instruction pointed by the PC (i.e., contained
in the memory location with address 0). That instruction makes BlinkenBits
copy the content of register <code class="docutils literal notranslate"><span class="pre">r0</span></code> into register <code class="docutils literal notranslate"><span class="pre">r1</span></code>. (Note that the
web-based emulator highlights registers in green when they are read, and in
light red when they are written).</p></li>
<li><p>Also observe that BlinkenBits has incremented the value of PC from 0 to 1:
therefore, the next instruction to be executed is contained in the memory
location with address 1.</p></li>
</ul>
</li>
<li><p>Now, press the button <code class="docutils literal notranslate"><span class="pre">1⏵</span></code> again.</p>
<ul class="simple">
<li><p>BlinkenBits will execute the instruction pointed by the PC (i.e., contained
in the memory location with address 1). That memory location contains the
value 0, which corresponds to the “halt” instruction: therefore,
BlinkenBits will now halt, similarly to <a class="reference internal" href="#ex-blinkenbits-halt"><span class="std std-numref">Exercise 2</span></a> above.</p></li>
</ul>
</li>
</ol>
</section>
</div>
<div class="exercise admonition" id="ex-blinkenbits-add">
<span id="index-40"></span>
<p class="admonition-title"><span class="caption-number">Exercise 4 </span> (Experimenting with BlinkenBits (4))</p>
<section id="exercise-content">
<p>Try resetting BlinkenBits (button <code class="docutils literal notranslate"><span class="pre">⏻</span></code>): the computer status will become
“Ready” to execute the instruction at the memory location with address 0 —
because the program counter (PC) points to that memory address.</p>
<p>Now, follow these steps:</p>
<ol class="arabic simple">
<li><p>Write the value 289 in the memory location at address 0.</p>
<ul class="simple">
<li><p>As mentioned in <a class="reference internal" href="#eg-blinkenbits-machine-instructions">Example 2</a>, this value
represents a “register add” instruction that adds the values in
<code class="docutils literal notranslate"><span class="pre">r0</span></code> and <code class="docutils literal notranslate"><span class="pre">r1</span></code> and writes the result in <code class="docutils literal notranslate"><span class="pre">r2</span></code>.</p></li>
</ul>
</li>
<li><p>Write two values you like in the registers <code class="docutils literal notranslate"><span class="pre">r0</span></code> and <code class="docutils literal notranslate"><span class="pre">r1</span></code>.</p></li>
<li><p>Press the button <code class="docutils literal notranslate"><span class="pre">1⏵</span></code> (execute the next instruction).</p>
<ul class="simple">
<li><p>BlinkenBits will execute the instruction pointed by the PC (i.e., contained
in the memory location with address 0). That instruction makes BlinkenBits
read the contents of the registers <code class="docutils literal notranslate"><span class="pre">r0</span></code> and <code class="docutils literal notranslate"><span class="pre">r1</span></code>, add them, and write the
result into register <code class="docutils literal notranslate"><span class="pre">r2</span></code>. Note that:</p>
<ul>
<li><p>the web-based emulator highlights registers in green when they are read,
and in light red when they are written;</p></li>
<li><p>if the addition of the two values in the registers <code class="docutils literal notranslate"><span class="pre">r0</span></code> and <code class="docutils literal notranslate"><span class="pre">r1</span></code> exceeds
the maximum value 4095, the computation will “wrap around” and only
produce the part of the result that exceeds 4096. For instance, if
registers <code class="docutils literal notranslate"><span class="pre">r0</span></code> and <code class="docutils literal notranslate"><span class="pre">r1</span></code> contain the values 4000 and 195, their addition
will produce the result 99 in register <code class="docutils literal notranslate"><span class="pre">r2</span></code>. This is similar to a car
odometer that can only count up to 999,999 km, and restarts from 000,000
once it reaches 1,000,000 km.</p></li>
</ul>
</li>
<li><p>Also observe that BlinkenBits has incremented the value of PC from 0 to 1:
therefore, the next instruction to be executed is contained in the memory
location with address 1.</p></li>
</ul>
</li>
<li><p>Now, press the button <code class="docutils literal notranslate"><span class="pre">1⏵</span></code> again.</p>
<ul class="simple">
<li><p>BlinkenBits will execute the instruction pointed by the PC (i.e., contained
in the memory location with address 1) and will halt, similarly to
<a class="reference internal" href="#ex-blinkenbits-halt"><span class="std std-numref">Exercise 2</span></a> above.</p></li>
</ul>
</li>
</ol>
</section>
</div>
<div class="exercise admonition" id="ex-blinkenbits-error">

<p class="admonition-title"><span class="caption-number">Exercise 5 </span> (Experimenting with BlinkenBits (5))</p>
<section id="exercise-content">
<p>Try resetting BlinkenBits (button <code class="docutils literal notranslate"><span class="pre">⏻</span></code>): the computer status will become
“Ready” to execute the instruction at the memory location with address 0 —
because the program counter (PC) points to that memory address.</p>
<p>Now, follow these steps:</p>
<ol class="arabic simple">
<li><p>Write the value 42 in the memory location at address 0.</p>
<ul class="simple">
<li><p>As mentioned in <a class="reference internal" href="#eg-blinkenbits-machine-instructions">Example 2</a>, this value
does not represent a valid BlinkenBits machine instruction.</p></li>
</ul>
</li>
<li><p>Press the button <code class="docutils literal notranslate"><span class="pre">1⏵</span></code> (execute the next instruction).</p>
<ul class="simple">
<li><p>BlinkenBits will try to execute the instruction pointed by the PC, i.e.,
contained in the memory location with address 0. However, the value 42
contained in that memory location does not represent a valid machine
instruction — and consequently, BlinkenBits will change its status to
“Error.”</p></li>
</ul>
</li>
</ol>
</section>
</div>
</section>
<section id="the-blinkenbits-assembly-language">
<span id="sec-basic-programming-blinkenbits-assembly"></span><span id="index-41"></span><h3>The BlinkenBits Assembly Language<a class="headerlink" href="#the-blinkenbits-assembly-language" title="Permalink to this heading">#</a></h3>
<p>Programming BlinkenBits by writing machine instructions as numeric values into
its memory is possible (this is what
<a class="reference internal" href="#sec-basic-programming-interaction-human-computer"><span class="std std-ref">early computer programmers did</span></a>!),
but quite cumbersome. To make programming a bit faster and intuitive, each
machine instruction has a more human-friendly representation in
<strong>BlinkenBits assembly</strong>, which is a rudimentary programming language.</p>
<div class="proof example admonition" id="eg-blinkenbits-assembly">
<p class="admonition-title"><span class="caption-number">Example 3 </span> (BlinkenBits assembly instructions)</p>
<section class="example-content" id="proof-content">
<p>Let us consider again the machine instructions discussed in
<a class="reference internal" href="#eg-blinkenbits-machine-instructions">Example 2</a>, and let us see their assembly
representation:</p>
<ul class="simple">
<li><p>The value 0 represents the “halt” instruction, and is written in BlinkenBits
assembly as <span class="asm">halt</span>.</p></li>
<li><p>The value 3076 represents a “register copy” instruction that is written in
BlinkenBits assembly as <span class="asm">r1 &lt;- r0</span> (i.e., copy the content of register
<code class="docutils literal notranslate"><span class="pre">r0</span></code> into register <code class="docutils literal notranslate"><span class="pre">r1</span></code>).</p></li>
<li><p>The value 289 represents an “add” instruction that is written in BlinkenBits
assembly as <span class="asm">r2 &lt;- r0 + r1</span> (i.e., add the values contained in registers
<code class="docutils literal notranslate"><span class="pre">r0</span></code> and <code class="docutils literal notranslate"><span class="pre">r1</span></code>, write the result into register <code class="docutils literal notranslate"><span class="pre">r2</span></code>).</p></li>
</ul>
</section>
</div><div class="admonition important">
<p class="admonition-title">Important</p>
<p>Like all computers, <em>BlinkenBits does not directly execute assembly
instructions</em>: as mentioned above, assembly instructions are just a
human-oriented representation of the actual machine instructions. In order to be
executed, assembly instructions must be first translated into the corresponding
machine instructions — and such machine instructions can be then executed by
BlinkenBits.</p>
<p>For convenience, the BlinkenBits web-based emulator translates assembly into
machine instructions (and <em>vice versa</em>) on-the-fly, so you can immediately see
how they correspond to each other.</p>
</div>
<p>BlinkenBits supports 11 assembly instructions, which are grouped in the 3
categories below.</p>
<ul class="simple">
<li><p><strong>Register computation instructions
(<a class="reference internal" href="#table-blinkenbits-asm-reg-comp"><span class="std std-numref">Table 2</span></a>)</strong>: these instructions perform
computations that read input values contained in zero, one, or two registers,
and produce a result value which is written into a destination register.</p></li>
<li><p><strong>Register-memory transfer instructions
(<a class="reference internal" href="#table-blinkenbits-asm-reg-mem"><span class="std std-numref">Table 3</span></a>)</strong>: these instructions allow for
transferring values from registers to memory, and <em>vice versa</em>.</p></li>
<li><p><strong>Execution control instructions
(<a class="reference internal" href="#table-blinkenbits-asm-control"><span class="std std-numref">Table 4</span></a>)</strong>: these instructions allow for
controlling which instruction BlinkenBits will execute next. More specifically,
these instructions can be used to jump to another instruction (possibly
depending on a condition), or halt the execution.</p></li>
</ul>
<p>Furthermore, one can write the assembly “non-instruction” <span class="asm">data <span class="math notranslate nohighlight">\(n\)</span></span> to
describe that a memory location contains the value <span class="math notranslate nohighlight">\(n\)</span>. The value <span class="math notranslate nohighlight">\(n\)</span> may not
correspond to any machine instruction. (NOTE: <span class="math notranslate nohighlight">\(n\)</span> must be in the range 0…4095).</p>
<table class="table" id="table-blinkenbits-asm-reg-comp">
<caption><span class="caption-number">Table 2 </span><span class="caption-text">BlinkenBits assembly: register computation instructions.</span><a class="headerlink" href="#table-blinkenbits-asm-reg-comp" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Assembly instruction</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="asm">r<span class="math notranslate nohighlight">\(d\)</span> &lt;- <span class="math notranslate nohighlight">\(n\)</span></span></p></td>
<td><p>Write the value <span class="math notranslate nohighlight">\(n\)</span> into register r<span class="math notranslate nohighlight">\(d\)</span>. NOTE: <span class="math notranslate nohighlight">\(n\)</span> must be in the range 0…63.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="asm">r<span class="math notranslate nohighlight">\(d\)</span> &lt;- r<span class="math notranslate nohighlight">\(s\)</span></span></p></td>
<td><p>Copy the content of register r<span class="math notranslate nohighlight">\(d\)</span> into register r<span class="math notranslate nohighlight">\(s\)</span>.</p></td>
</tr>
<tr class="row-even"><td><p><span class="asm">r<span class="math notranslate nohighlight">\(d\)</span> &lt;- r<span class="math notranslate nohighlight">\(s_1\)</span> + r<span class="math notranslate nohighlight">\(s_2\)</span></span></p></td>
<td><p>Add the values contained in registers r<span class="math notranslate nohighlight">\(s_1\)</span> and r<span class="math notranslate nohighlight">\(s_2\)</span>, and then write the result into register r<span class="math notranslate nohighlight">\(d\)</span>.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="asm">r<span class="math notranslate nohighlight">\(d\)</span> &lt;- r<span class="math notranslate nohighlight">\(s_1\)</span> - r<span class="math notranslate nohighlight">\(s_2\)</span></span></p></td>
<td><p>Subtract the value contained in register r<span class="math notranslate nohighlight">\(s_2\)</span> from the value in register r<span class="math notranslate nohighlight">\(s_1\)</span>, and then write the result into register r<span class="math notranslate nohighlight">\(d\)</span>.</p></td>
</tr>
<tr class="row-even"><td><p><span class="asm">r<span class="math notranslate nohighlight">\(d\)</span> &lt;- r<span class="math notranslate nohighlight">\(s_1\)</span> &lt; r<span class="math notranslate nohighlight">\(s_2\)</span></span></p></td>
<td><p>If the value contained in register r<span class="math notranslate nohighlight">\(s_1\)</span> is smaller than the value in register r<span class="math notranslate nohighlight">\(s_2\)</span>, write 1 into r<span class="math notranslate nohighlight">\(d\)</span>; otherwise, write 0 into r<span class="math notranslate nohighlight">\(d\)</span>.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="asm">r<span class="math notranslate nohighlight">\(d\)</span> &lt;- r<span class="math notranslate nohighlight">\(s_1\)</span> == r<span class="math notranslate nohighlight">\(s_2\)</span></span></p></td>
<td><p>If the value contained in register r<span class="math notranslate nohighlight">\(s_1\)</span> is equal to the value in register r<span class="math notranslate nohighlight">\(s_2\)</span>, write 1 into r<span class="math notranslate nohighlight">\(d\)</span>; otherwise, write 0 into r<span class="math notranslate nohighlight">\(d\)</span>.</p></td>
</tr>
</tbody>
</table>
<table class="table" id="table-blinkenbits-asm-reg-mem">
<caption><span class="caption-number">Table 3 </span><span class="caption-text">BlinkenBits assembly: register-memory instructions.</span><a class="headerlink" href="#table-blinkenbits-asm-reg-mem" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Assembly instruction</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="asm">r<span class="math notranslate nohighlight">\(d\)</span> &lt;- memory&#64;r<span class="math notranslate nohighlight">\(s\)</span></span></p></td>
<td><p>Load the value at the memory location whose address is contained in register r<span class="math notranslate nohighlight">\(s\)</span>, and write that value into register r<span class="math notranslate nohighlight">\(d\)</span>.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="asm">memory&#64;r<span class="math notranslate nohighlight">\(s_1\)</span> &lt;- r<span class="math notranslate nohighlight">\(s_2\)</span></span></p></td>
<td><p>Store the content of register r<span class="math notranslate nohighlight">\(s_2\)</span> into the memory location whose address is contained in register r<span class="math notranslate nohighlight">\(s_1\)</span>.</p></td>
</tr>
</tbody>
</table>
<table class="table" id="table-blinkenbits-asm-control">
<caption><span class="caption-number">Table 4 </span><span class="caption-text">BlinkenBits assembly: control instructions.</span><a class="headerlink" href="#table-blinkenbits-asm-control" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Assembly instruction</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="asm">jump <span class="math notranslate nohighlight">\(n\)</span></span></p></td>
<td><p>Write the value <span class="math notranslate nohighlight">\(n\)</span> in the program counter (PC). As a consequence, BlinkenBits will “jump” to the instruction at memory address <span class="math notranslate nohighlight">\(n\)</span>, which will be executed next. NOTE: <span class="math notranslate nohighlight">\(n\)</span> must be in the range 0…63.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="asm">if r<span class="math notranslate nohighlight">\(s\)</span> jump <span class="math notranslate nohighlight">\(n\)</span></span></p></td>
<td><p>Conditional jump: if the content of register r<span class="math notranslate nohighlight">\(s\)</span> is <em>not</em> 0, write the value <span class="math notranslate nohighlight">\(n\)</span> in the program counter (PC); otherwise, increment the PC by 1, to execute the next instruction as usual. NOTE: <span class="math notranslate nohighlight">\(n\)</span> must be in the range 0…63.</p></td>
</tr>
<tr class="row-even"><td><p><span class="asm">halt</span></p></td>
<td><p>Halt the execution.</p></td>
</tr>
</tbody>
</table>
<p>The next examples describe how to solve various tasks by writing small programs
in BlinkenBits assembly.</p>
<div class="proof example admonition" id="eg-asm-load-value">
<p class="admonition-title"><span class="caption-number">Example 4 </span> (Loading a large value into a register (1))</p>
<section class="example-content" id="proof-content">
<p>Our goal is to write a BlinkenBits assembly program that puts the value 150 into
register <code class="docutils literal notranslate"><span class="pre">r0</span></code>.</p>
<p>We may try putting the value 150 directly into <code class="docutils literal notranslate"><span class="pre">r0</span></code> by writing the assembly
instruction <span class="asm">r0 &lt;- 150</span> — but if you try, you will get an error. Indeed,
according to <a class="reference internal" href="#table-blinkenbits-asm-reg-comp"><span class="std std-numref">Table 2</span></a>, this instruction is
invalid, because the value must be in the range 0…63 (although a register can
contain values in the range 0…4095). Therefore, we need to find another way to
achieve our objective.</p>
<p>By looking at the other instructions in
<a class="reference internal" href="#table-blinkenbits-asm-reg-comp"><span class="std std-numref">Table 2</span></a>, we can observe that BlinkenBits
provides an addition instruction between values contained in registers.
Therefore, we could solve the task by writing a few values in the range 0…63
into the available registers, and then adding such values, until we obtain the
value 150 in register <code class="docutils literal notranslate"><span class="pre">r0</span></code>, as required. For example, after resetting
BlinkenBits (button <code class="docutils literal notranslate"><span class="pre">⏻</span></code>), you could write the following assembly instructions at
the memory addresses listed in this table, and then execute the instructions
(either step-by-step by clicking the button <code class="docutils literal notranslate"><span class="pre">1⏵</span></code>, or in sequence by clicking the
button <code class="docutils literal notranslate"><span class="pre">1⏵</span></code>).</p>
<table class="table">
<colgroup>
<col style="width: 5%" />
<col style="width: 30%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Memory address</p></th>
<th class="head"><p>Assembly instruction</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>00</p></td>
<td><p><span class="asm">r1 &lt;- 63</span></p></td>
<td><p>Write value 63 into register r1</p></td>
</tr>
<tr class="row-odd"><td><p>01</p></td>
<td><p><span class="asm">r2 &lt;- 63</span></p></td>
<td><p>Write value 63 into register r2</p></td>
</tr>
<tr class="row-even"><td><p>02</p></td>
<td><p><span class="asm">r3 &lt;- 24</span></p></td>
<td><p>Write value 24 into register r3</p></td>
</tr>
<tr class="row-odd"><td><p>03</p></td>
<td><p><span class="asm">r0 &lt;- r1 + r2</span></p></td>
<td><p>Add values contained in r1 and r2, write result in r0</p></td>
</tr>
<tr class="row-even"><td><p>04</p></td>
<td><p><span class="asm">r0 &lt;- r0 + r3</span></p></td>
<td><p>Add values contained in r0 and r3, write result in r0</p></td>
</tr>
<tr class="row-odd"><td><p>05</p></td>
<td><p><span class="asm">halt</span></p></td>
<td><p>End of the program</p></td>
</tr>
</tbody>
</table>
</section>
</div><div class="admonition important">
<p class="admonition-title">Important</p>
<p>To speed up assembly programming in BlinkenBits, you can click on
<strong>“Edit or upload assembly code…”</strong> (top-right corner on the BlinkenBits emulator)
and use the pop-up window to directly edit or copy&amp;paste whole assembly programs
with multiple instructions and comments (instead of editing one memory location
at a time). Each line of the assembly program must have the following format:</p>
<blockquote>
<div><p><em>memory address</em> <code class="docutils literal notranslate"><span class="pre">:</span></code> <em>assembly instruction</em> <code class="docutils literal notranslate"><span class="pre">//</span></code> comment (optional)</p>
</div></blockquote>
<p>If a memory address is not explicitly listed in the program, it will contain the
<code class="docutils literal notranslate"><span class="pre">halt</span></code> instruction.</p>
<p>For instance, the following assembly program corresponds to the assembly
instructions and comments shown in <a class="reference internal" href="#eg-asm-load-value">Example 4</a>.
The following program can be copy&amp;pasted directly on the BlinkenBits
<em>“Edit or upload assembly…”</em> interface. (Try it!)</p>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">63</span><span class="w">       </span><span class="c1">// Write value 63 into register r1</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">63</span><span class="w">       </span><span class="c1">// Write value 63 into register r2</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">24</span><span class="w">       </span><span class="c1">// Write value 24 into register r3</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r2</span><span class="w">  </span><span class="c1">// Add values contained in r1 and r2, write result in r0</span>
<span class="mi">04</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r3</span><span class="w">  </span><span class="c1">// Add values contained in r0 and r3, write result in r0</span>
<span class="mi">05</span><span class="o">:</span><span class="w"> </span><span class="n">halt</span><span class="w">           </span><span class="c1">// End of the program</span>
</pre></div>
</div>
<p>From now on, we will use this format when discussing BlinkenBits assembly
programs.</p>
</div>
<div class="proof example admonition" id="eg-asm-increase-reg">
<p class="admonition-title"><span class="caption-number">Example 5 </span> (Progressively increasing the value contained in a register (1))</p>
<section class="example-content" id="proof-content">
<p>Our goal is to write a program that increases the value contained in register
<code class="docutils literal notranslate"><span class="pre">r0</span></code> by adding 1 to its current value.</p>
<p>A possible solution is to write a program that performs consecutive
increments as follows:</p>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">0</span><span class="w">        </span><span class="c1">// Initialize r0 with value 0</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w">        </span><span class="c1">// Initialize r1 with value 1 (to be used for increments)</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">  </span><span class="c1">// Increment r0 by 1</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">  </span><span class="c1">// Increment r0 by 1</span>
<span class="mi">04</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">  </span><span class="c1">// Increment r0 by 1</span>
<span class="mi">05</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">  </span><span class="c1">// Increment r0 by 1</span>
<span class="mi">06</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">  </span><span class="c1">// Increment r0 by 1</span>
<span class="mi">07</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">  </span><span class="c1">// Increment r0 by 1</span>
<span class="mi">08</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">  </span><span class="c1">// Increment r0 by 1</span>
<span class="mi">09</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">  </span><span class="c1">// Increment r0 by 1</span>
<span class="mi">10</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">  </span><span class="c1">// Increment r0 by 1</span>
<span class="c1">// ...</span>
</pre></div>
</div>
<p>You can notice that we are repeating the same instruction <span class="asm">r0 &lt;- r0 + r1</span>
over and over again — and such repetitions make the program longer. Moreover,
with this approach we cannot increment r0 beyond the value 61, because we will
run out of memory locations for writing more instructions!</p>
<p>When we want to repeat one or more instructions, we can use the <strong>jump</strong>
instruction listed in <a class="reference internal" href="#table-blinkenbits-asm-control"><span class="std std-numref">Table 4</span></a>. For instance, we
could try the following assembly program:</p>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">0</span><span class="w">        </span><span class="c1">// Initialize r0 with value 0</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w">        </span><span class="c1">// Initialize r1 with value 1 (to be used for increments)</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">  </span><span class="c1">// Increment r0 by 1</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">2</span><span class="w">         </span><span class="c1">// Jump to memory location at address 2</span>
</pre></div>
</div>
<p>When executed, this program performs the required increments — and it will
keep running until BlinkenBits is paused or reset.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you let the program above run long enough, you will notice that when <code class="docutils literal notranslate"><span class="pre">r0</span></code>
reaches the maximum value 4095, the next increment will make it “wrap around”
to 0, and the increments will continue from there.</p>
</div>
</section>
</div><div class="proof remark admonition" id="remark-flowcharts">
<span id="index-42"></span><p class="admonition-title"><span class="caption-number">Remark 1 </span> (Sketching algorithms using flowcharts)</p>
<section class="remark-content" id="proof-content">
<p>When planning how to write a program that solves a certain task, it can be
helpful to first sketch a <a class="reference external" href="https://en.wikipedia.org/wiki/Flowchart">flowchart</a>
that describes an algorithm that solves the task. The flowchart breaks down the
task into a sequence of steps, represented as boxes. Since our goal is to
program BlinkenBits, each box in the flowchart should correspond to an activity
that BlinkenBits can perform by executing one (or a few) instructions. For
instance, a rough algorithm for the task in <a class="reference internal" href="#eg-asm-increase-reg">Example 5</a> could
be sketched as the following flowchart:</p>
<p><img alt="Flowchart" src="_images/increment.drawio.svg" /></p>
<p>This flowchart does not yet precisely convey which assembly instructions we
could use: in particular, there is no BlinkenBits instruction that can perform
the activity in the rightmost box (“increment r0 by 1”) at once. The only way to
increment <code class="docutils literal notranslate"><span class="pre">r0</span></code> is to add to <code class="docutils literal notranslate"><span class="pre">r0</span></code> the value contained in another register, e.g.,
<code class="docutils literal notranslate"><span class="pre">r1</span></code>; therefore, in order to “increment <code class="docutils literal notranslate"><span class="pre">r0</span></code> by 1,” we first need to put the
value <code class="docutils literal notranslate"><span class="pre">1</span></code> in <code class="docutils literal notranslate"><span class="pre">r1</span></code>, and then add the value in <code class="docutils literal notranslate"><span class="pre">r1</span></code> to <code class="docutils literal notranslate"><span class="pre">r0</span></code> (writing the result in
<code class="docutils literal notranslate"><span class="pre">r0</span></code> itself). With these considerations, we can refine the flowchart above, and
we get:</p>
<p><img alt="Flowchart" src="_images/increment-refined.drawio.svg" /></p>
<p>From this refined flowchart we can more directly derive the assembly code
shown in <a class="reference internal" href="#eg-asm-increase-reg">Example 5</a>. Note that the arrow that exits from the
rightmost box and reenters into the same box corresponds to the assembly jump
that makes the program repeat the increment of <code class="docutils literal notranslate"><span class="pre">r0</span></code>.</p>
</section>
</div><div class="proof example admonition" id="eg-asm-increase-reg-limit">
<p class="admonition-title"><span class="caption-number">Example 6 </span> (Progressively increasing the value contained in a register (2))</p>
<section class="example-content" id="proof-content">
<p>Let us consider a variation of <a class="reference internal" href="#eg-asm-increase-reg">Example 5</a>: we want to
increase the value of register <code class="docutils literal notranslate"><span class="pre">r0</span></code> from 0 to 62, and halt the program
when we reach 62. To achieve this, we <em>cannot</em> always jump back to the
instruction that increments <code class="docutils literal notranslate"><span class="pre">r0</span></code> (as in the assembly code shown in
<a class="reference internal" href="#eg-asm-increase-reg">Example 5</a>):
instead, we should only jump if register <code class="docutils literal notranslate"><span class="pre">r0</span></code> has not yet reached the desired
value 62. Therefore, before jumping we need to <em>compare</em> the current value of
<code class="docutils literal notranslate"><span class="pre">r0</span></code> with 62, and jump (or not) depending on the result of the comparison.</p>
<p>These considerations give rise to an algorithm sketched in the following
flowchart (based on the flowchart in <a class="reference internal" href="#remark-flowcharts">Remark 1</a>); here, the
rhombus represents a check whose result can be either true or false, and the
result determines the next step.</p>
<p><img alt="Flowchart" src="_images/increment-conditional.drawio.svg" /></p>
<p>By looking at the BlinkenBits instructions, we can see some correspondence to
the rightmost part of the flowchart:</p>
<ol class="arabic simple">
<li><p>We can use the “smaller than” instruction
(<a class="reference internal" href="#table-blinkenbits-asm-reg-comp"><span class="std std-numref">Table 2</span></a>) to compare the value contained in
<code class="docutils literal notranslate"><span class="pre">r0</span></code> with the value 62 (which we must put in another register).</p></li>
<li><p>Then, we can use a <strong>conditional jump</strong> instruction <span class="asm">if … jump …</span>
(<a class="reference internal" href="#table-blinkenbits-asm-control"><span class="std std-numref">Table 4</span></a>)
to jump and repeat the increment of <code class="docutils literal notranslate"><span class="pre">r0</span></code> (or not) depending on the result of
the comparison.</p></li>
</ol>
<p>To be converted into assembly, the flowchart is still missing some details:</p>
<ul class="simple">
<li><p>the value 62 must be put into a register (e.g., <code class="docutils literal notranslate"><span class="pre">r2</span></code>) to check whether it
is larger than the value in <code class="docutils literal notranslate"><span class="pre">r0</span></code>;</p></li>
<li><p>the result of the comparison (which is either 0 when false, or 1 when true)
must be put into a register (e.g., <code class="docutils literal notranslate"><span class="pre">r3</span></code>) to be used for the conditional jump.</p></li>
</ul>
<p>With these considerations, we can refine the flowchart above as follows.</p>
<p><img alt="Flowchart" src="_images/increment-conditional-refined.drawio.svg" /></p>
<p>And now we can directly derive the following assembly program from the refined
flowchart:</p>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">0</span><span class="w">        </span><span class="c1">// Initialize r0 with value 0</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w">        </span><span class="c1">// Initialize r1 with value 1 (to be used for increments)</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">62</span><span class="w">       </span><span class="c1">// Maximum value we want to reach</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">  </span><span class="c1">// Increment r0 by 1</span>
<span class="mi">04</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">r2</span><span class="w">  </span><span class="c1">// If value in r0 is smaller than value in r2, write 1 in r3; otherwise, write 0 in r3</span>
<span class="mi">05</span><span class="o">:</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">3</span><span class="w">   </span><span class="c1">// If r3 does _not_ contain 0 (i.e., r0 &lt; r2 is true), jump to repeat the increment</span>
<span class="mi">06</span><span class="o">:</span><span class="w"> </span><span class="n">halt</span><span class="w">           </span><span class="c1">// End of program</span>
</pre></div>
</div>
<p>The key insight above is that the instruction at address 04 writes the result of
the comparison in register <code class="docutils literal notranslate"><span class="pre">r3</span></code>, and this result is used by the instruction at
address 05 as the condition to decide whether to jump.</p>
<p>As an alternative solution, we could instead check whether the value in <code class="docutils literal notranslate"><span class="pre">r0</span></code> is
equal to 62, and halt the program if that is the case; if the value in <code class="docutils literal notranslate"><span class="pre">r0</span></code> is
<em>not</em> equal to 62, we can increment <code class="docutils literal notranslate"><span class="pre">r0</span></code> again. The resulting flowchart is shown
below: it is similar to the one above, but notice that the “true” and “false”
decisions to the right are swapped (because now we want to end the program when
the comparison <code class="docutils literal notranslate"><span class="pre">r0</span> <span class="pre">==</span> <span class="pre">r2</span></code> is false).</p>
<p><img alt="Flowchart" src="_images/increment-conditional-refined-equal.drawio.svg" /></p>
<p>From the flowchart above we can derive the assembly program below.</p>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">0</span><span class="w">        </span><span class="c1">// Initialize r0 with value 0</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w">        </span><span class="c1">// Initialize r1 with value 1 (to be used for increments)</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">62</span><span class="w">       </span><span class="c1">// Maximum value we want to reach</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">  </span><span class="c1">// Increment r0 by 1</span>
<span class="mi">04</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="c1">// If values in r0 and r2 are equal, write 1 in r3; otherwise, write 0 in r3</span>
<span class="mi">05</span><span class="o">:</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">7</span><span class="w">   </span><span class="c1">// If r3 does _not_ contain 0, jump to the end of the program; otherwise, continue</span>
<span class="mi">06</span><span class="o">:</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">3</span><span class="w">         </span><span class="c1">// If we are here, then r0 is _not_ equal to r2: jump to repeat the increment</span>
<span class="mi">07</span><span class="o">:</span><span class="w"> </span><span class="n">halt</span><span class="w">           </span><span class="c1">// End of program</span>
</pre></div>
</div>
<p>The key insight here is that the instruction at address 06 is only executed if
the conditional jump at address 05 did <em>not</em> jump — and that conditional jump
is only performed if the value in <code class="docutils literal notranslate"><span class="pre">r0</span></code> is equal to the value in <code class="docutils literal notranslate"><span class="pre">r2</span></code>.
Consequently, the instruction at address 06 is only executed if the value in
<code class="docutils literal notranslate"><span class="pre">r0</span></code> is <em>not</em> equal to the value in <code class="docutils literal notranslate"><span class="pre">r2</span></code>.</p>
</section>
</div><div class="proof example admonition" id="eg-asm-load-value-memory">
<p class="admonition-title"><span class="caption-number">Example 7 </span> (Loading a large value into a register (2))</p>
<section class="example-content" id="proof-content">
<p>Let us consider again the task discussed in <a class="reference internal" href="#eg-asm-load-value">Example 4</a>:
writing a program that puts the value 150 into register <code class="docutils literal notranslate"><span class="pre">r0</span></code>.</p>
<p>By looking at the other instructions in
<a class="reference internal" href="#table-blinkenbits-asm-reg-mem"><span class="std std-numref">Table 3</span></a>, we can observe that BlinkenBits
provides an instruction that loads a value from a memory address into a register;
moreover, in our assembly program we can write <span class="asm">data 150</span> to describe
a memory location with the desired value 150. Using these tools, we can solve
the task e.g. with the following assembly program.</p>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="c1">// Memory address that contains the value 150 (see below)</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r1</span><span class="w">  </span><span class="c1">// Load the value at the memory addr. pointed by r1 into r0</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="n">halt</span><span class="w">             </span><span class="c1">// End the execution here</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">150</span><span class="w">         </span><span class="c1">// This memory location contains the value 150</span>
</pre></div>
</div>
</section>
</div><div class="proof example admonition" id="eg-asm-display-sym">
<p class="admonition-title"><span class="caption-number">Example 8 </span> (Visualising symbols on the BlinkenBits emulator display (1))</p>
<section class="example-content" id="proof-content">
<p>As explained in <a class="reference internal" href="#sec-basic-programming-blinkenbits-display"><span class="std std-ref">The BlinkenBits Display</span></a>, the
BlinkenBits emulator has a 8-element display, where each element shows a symbol
that corresponds to the content of a memory location in the range 56-63.</p>
<p>Our task is to write a program that shows all possible symbols on the
BlinkenBits display, one symbol at a time.</p>
<p>To solve this task, we can modify the program in <a class="reference internal" href="#eg-asm-increase-reg">Example 5</a>
so that, each time the program increments the value in register <code class="docutils literal notranslate"><span class="pre">r0</span></code>, the
program also writes the current value of <code class="docutils literal notranslate"><span class="pre">r0</span></code> in the first display element. The
corresponding flowchart may look as follows.</p>
<p><img alt="Flowchart" src="_images/increment-display.drawio.svg" /></p>
<p>This flowchart does not detail how the value in <code class="docutils literal notranslate"><span class="pre">r0</span></code> is shown on the 1st display
element — but as seen on <a class="reference internal" href="#sec-basic-programming-blinkenbits-display"><span class="std std-ref">The BlinkenBits Display</span></a>, we
need to write that value in the memory location with address 56. To achieve
this, we need to use a register-to-memory transfer instruction
(<a class="reference internal" href="#table-blinkenbits-asm-reg-mem"><span class="std std-numref">Table 3</span></a>) — and that instruction, in turn,
needs to find the memory address 56 in a register, e.g., <code class="docutils literal notranslate"><span class="pre">r2</span></code>. Therefore, we can
refine the flowchart above as follows:</p>
<p><img alt="Flowchart" src="_images/increment-display-refined.drawio.svg" /></p>
<p>We can directly convert this refined flowchart into the following program.</p>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">0</span><span class="w">         </span><span class="c1">// Initialize r0 with value 0</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w">         </span><span class="c1">// Initialize r1 with value 1 (to be used for increments)</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">56</span><span class="w">        </span><span class="c1">// Initialize r2 with the memory address of the display element</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="c1">// Write current value of r0 into display memory location</span>
<span class="mi">04</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">   </span><span class="c1">// Increment r0 by 1</span>
<span class="mi">05</span><span class="o">:</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="c1">// Jump to perform the next increment</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To better visualise how the program runs and modifies the memory contents during
its execution, you can write the assembly instructions above into memory
locations that are closer to the display memory: for instance, you could write
the first instruction at address 48. Then, before running the program you can
manually write the address 48 in the program counter (PC); alternatively, you
could just initialise the PC as 0 and put a <span class="asm">jump 48</span> instruction
in the memory location at address 0, as follows:</p>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">48</span><span class="w">         </span><span class="c1">// Jump to the code below</span>
<span class="mi">48</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">0</span><span class="w">         </span><span class="c1">// Initialize r0 with value 0</span>
<span class="mi">49</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w">         </span><span class="c1">// Initialize r1 with value 1 (to be used for increments)</span>
<span class="mi">50</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">56</span><span class="w">        </span><span class="c1">// Initialize r2 with the memory address of the display element</span>
<span class="mi">51</span><span class="o">:</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="c1">// Write current value of r0 into display memory location</span>
<span class="mi">52</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">   </span><span class="c1">// Increment r0 by 1</span>
<span class="mi">53</span><span class="o">:</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">51</span><span class="w">         </span><span class="c1">// Jump to perform the next increment</span>
</pre></div>
</div>
</div>
</section>
</div><div class="proof example admonition" id="eg-asm-display-sym-limit">
<p class="admonition-title"><span class="caption-number">Example 9 </span> (Visualising symbols on the BlinkenBits emulator display (2))</p>
<section class="example-content" id="proof-content">
<p>When running the program in <a class="reference internal" href="#eg-asm-display-sym">Example 8</a>, you may have noticed
that not all values correspond to a meaningful symbol on the display. In fact,
according to <a class="reference internal" href="#table-blinkenbits-display"><span class="std std-numref">Table 1</span></a>:</p>
<ul class="simple">
<li><p>each value from 0 to 71 corresponds to a number, or letter, or mathematical
operator, or punctuation symbol;</p></li>
<li><p>all values after 71 correspond to the symbol <code class="docutils literal notranslate"><span class="pre">👾</span></code>.</p></li>
</ul>
<p>Our task is to modify the program in <a class="reference internal" href="#eg-asm-display-sym">Example 8</a> to stop
incrementing the displayed value at 71. To this end, before writing our code, we
can sketch the following flowchart: it is based on the one in
<a class="reference internal" href="#eg-asm-display-sym">Example 8</a> with an additional check that compares the value
in <code class="docutils literal notranslate"><span class="pre">r0</span></code> with 72; depending on the result of the comparison, the flowchart goes
back to display and increment the value in <code class="docutils literal notranslate"><span class="pre">r0</span></code> again, or halts the program.</p>
<p><img alt="Flowchart" src="_images/increment-display-limit.drawio.svg" /></p>
<p>Before we can convert this flowchart into assembly, we need to refine the check
we just added, to make it better correspond to BlinkenBits instructions. First,
we can observe that, in order to compare the value in <code class="docutils literal notranslate"><span class="pre">r0</span></code> with 72, we need to
put the value 72 into a register, e.g., into <code class="docutils literal notranslate"><span class="pre">r3</span></code>. Therefore, we need to add a
step to the flowchart to put the value 72 into <code class="docutils literal notranslate"><span class="pre">r3</span></code>, and revise the comparison
so it becomes <code class="docutils literal notranslate"><span class="pre">r0</span> <span class="pre">&lt;</span> <span class="pre">r3</span></code>. With this refinement, get this flowchart:</p>
<p><img alt="Flowchart" src="_images/increment-display-limit-value-r3.drawio.svg" /></p>
<p>We cannot yet directly translate this flowchart into an assembly program
because, as we have seen in <a class="reference internal" href="#eg-asm-increase-reg-limit">Example 6</a>, the comparison
between <code class="docutils literal notranslate"><span class="pre">r2</span></code> and <code class="docutils literal notranslate"><span class="pre">r3</span></code> needs a register to save its result. However, the
flowchart above is already using all the available registers <code class="docutils literal notranslate"><span class="pre">r0</span></code>…<code class="docutils literal notranslate"><span class="pre">r3</span></code>, so we
need to reuse one of them. For instance, we can refine the flowchart above by:</p>
<ol class="arabic simple">
<li><p>using register <code class="docutils literal notranslate"><span class="pre">r3</span></code> to hold the result of the comparison <code class="docutils literal notranslate"><span class="pre">r0</span> <span class="pre">&lt;</span> <span class="pre">r3</span></code>, and</p></li>
<li><p>if the comparison is true (i.e., <code class="docutils literal notranslate"><span class="pre">r3</span></code> contains a value that is not 0), repeat
the steps from one that initialises <code class="docutils literal notranslate"><span class="pre">r3</span></code> with the value 72 (since we will
need <code class="docutils literal notranslate"><span class="pre">r3</span></code> to contain 72 to repeat the comparison).</p></li>
</ol>
<p>The refined flowchart is:</p>
<p><img alt="Flowchart" src="_images/increment-display-limit-value-r3-reuse1.drawio.svg" /></p>
<p>We are getting very close to an assembly program, but the flowchart needs a
final refinement: for the step where we “initialise <code class="docutils literal notranslate"><span class="pre">r3</span></code> with 72” we cannot
simply write the assembly instruction <code class="docutils literal notranslate"><span class="pre">r3</span> <span class="pre">&lt;-</span> <span class="pre">72</span></code>, because 72 is outside the
allowed range 0…63. Therefore, we need to split that step into further
sub-steps, using one of two possible strategies:</p>
<ul class="simple">
<li><p>as in <a class="reference internal" href="#eg-asm-load-value">Example 4</a>, we could to put 72 in <code class="docutils literal notranslate"><span class="pre">r3</span></code> via successive
additions, or</p></li>
<li><p>as in <a class="reference internal" href="#eg-asm-load-value-memory">Example 7</a>, we could load the value 72 from
memory into <code class="docutils literal notranslate"><span class="pre">r3</span></code>.</p></li>
</ul>
<p>If we follow the second strategy, we can refine the flowchart as follows. Here
we write <em>X</em> for the address of the memory location containing the value 72;
moreover, we use register <code class="docutils literal notranslate"><span class="pre">r3</span></code> to initially contain the address <em>X</em>, and we
immediately reuse <code class="docutils literal notranslate"><span class="pre">r3</span></code> to hold the value read from memory address <em>X</em> (i.e., the
value 72).</p>
<p><img alt="Flowchart" src="_images/increment-display-limit-value-r3-reuse2.drawio.svg" /></p>
<p>We can now directly translate this flowchart into the assembly program below.
Note that here we put the value 72 into the memory location at address 10 (but
we could have used any other address).</p>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">0</span><span class="w">             </span><span class="c1">// Initialize r0 with value 0</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w">             </span><span class="c1">// Initialize r1 with value 1 (to be used for increments)</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">56</span><span class="w">            </span><span class="c1">// Memory address of the display element</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">10</span><span class="w">            </span><span class="c1">// Memory addr. with the max value to display (see below)</span>
<span class="mi">04</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r3</span><span class="w">     </span><span class="c1">// Load from memory the maximum value we wish to display</span>
<span class="mi">05</span><span class="o">:</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w">     </span><span class="c1">// Write current value of r0 into display memory location</span>
<span class="mi">06</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">       </span><span class="c1">// Increment r0 by 1</span>
<span class="mi">07</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">r3</span><span class="w">       </span><span class="c1">// If value in r0 is smaller than value in r2, write 1 in r3; otherwise, write 0 in r3</span>
<span class="mi">08</span><span class="o">:</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">3</span><span class="w">        </span><span class="c1">// If r3 does _not_ contain 0, jump to repeat the increment</span>
<span class="mi">09</span><span class="o">:</span><span class="w"> </span><span class="n">halt</span><span class="w">                </span><span class="c1">// End of program</span>
<span class="mi">10</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">72</span><span class="w">             </span><span class="c1">// This memory location contains the max value to display</span>
</pre></div>
</div>
<p>You can observe that this program uses the register <code class="docutils literal notranslate"><span class="pre">r2</span></code> at different times for
different purposes:</p>
<ul class="simple">
<li><p>the instruction at address 02 uses <code class="docutils literal notranslate"><span class="pre">r2</span></code> to hold the memory address 10;</p></li>
<li><p>the instruction at address 03 loads the value contained at the memory location
with address 10 (i.e., the value 71) and writes it into register <code class="docutils literal notranslate"><span class="pre">r2</span></code>: from
this point on, the program uses <code class="docutils literal notranslate"><span class="pre">r2</span></code> to hold the maximum value to display.</p></li>
</ul>
<p>The program also uses register <code class="docutils literal notranslate"><span class="pre">r3</span></code> at different times for different purposes:</p>
<ul class="simple">
<li><p>the instructions at addresses 04 and 05 use register <code class="docutils literal notranslate"><span class="pre">r3</span></code> to hold the memory
address of the display element;</p></li>
<li><p>then, the comparison at address 07 overwrites the content of register <code class="docutils literal notranslate"><span class="pre">r3</span></code>,
and the result of the comparison is used for the conditional jump at address 08.
For this reason, the conditional jump goes back to the instruction at address 04,
which restores the correct display memory address in <code class="docutils literal notranslate"><span class="pre">r3</span></code>.</p></li>
</ul>
</section>
</div><div class="proof example admonition" id="eg-asm-sum-values-mem-until-zero">
<p class="admonition-title"><span class="caption-number">Example 10 </span> (Summing multiple values stored in memory (1))</p>
<section class="example-content" id="proof-content">
<p>Our task is to write a program that computes the sum of values contained in
memory locations with consecutive addresses. The requirements for the program
are the following:</p>
<ul class="simple">
<li><p>When the program starts, register <code class="docutils literal notranslate"><span class="pre">r0</span></code> contains the address of the first value
to sum;</p></li>
<li><p>When the program ends, register <code class="docutils literal notranslate"><span class="pre">r1</span></code> must contain the result of the sum. The
content of the other registers is not important.</p></li>
<li><p>The program must sum all values it finds in memory starting with the one at
the memory location whose address is in register <code class="docutils literal notranslate"><span class="pre">r0</span></code>; the program keeps
reading and summing the values stored at consecutive memory locations, until
it reaches a memory location that contains the value 0.</p></li>
</ul>
<p>To solve this task, we can:</p>
<ol class="arabic simple">
<li><p>use register <code class="docutils literal notranslate"><span class="pre">r1</span></code> as an accumulator that contains the current result of the
summation, starting with 0;</p></li>
<li><p>use register <code class="docutils literal notranslate"><span class="pre">r2</span></code> to hold the next value to be added to the summation
(that value is loaded from the memory address in register <code class="docutils literal notranslate"><span class="pre">r0</span></code>); and</p></li>
<li><p>after each addition, increment the value contained in <code class="docutils literal notranslate"><span class="pre">r0</span></code> by 1, thus making
it point to the memory location of the next value to add.</p></li>
</ol>
<p>Importantly, after step 2, we need to check whether the value loaded from memory
is <code class="docutils literal notranslate"><span class="pre">0</span></code> — and if so, we must halt the program. These ideas lead us to this
flowchart:</p>
<p><img alt="Flowchart" src="_images/summation.drawio.svg" /></p>
<p>To translate this flowchart into assembly, we need to further refine some of its
steps, similarly to what we did in the previous examples. Specifically, these
steps should be refined into several sub-steps (and correspondingly, into
several assembly instructions):</p>
<ul class="simple">
<li><p>The comparison that checks whether the value in <code class="docutils literal notranslate"><span class="pre">r2</span></code> is equal to 0;</p></li>
<li><p>The increment of the value in <code class="docutils literal notranslate"><span class="pre">r0</span></code> by 1.</p></li>
</ul>
<p>After such refinements (try to apply them yourself!), we can derive an assembly
program like the one below.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the following assembly program, the values to be used for the
summation are at the memory addresses 10…13.  Therefore, the program should be
executed by first manually setting register <code class="docutils literal notranslate"><span class="pre">r0</span></code> to 10. When the program halts,
the register <code class="docutils literal notranslate"><span class="pre">r1</span></code> will contain the summation result 42, as required.</p>
</div>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">0</span><span class="w">         </span><span class="c1">// Current result of the summation</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r0</span><span class="w"> </span><span class="c1">// Load from memory the next value to add</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">0</span><span class="w">         </span><span class="c1">// Value 0 used for the comparison below</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">r2</span><span class="w">  </span><span class="c1">// Is the last-loaded value (in r2) equal to zero?</span>
<span class="mi">04</span><span class="o">:</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">09</span><span class="w">   </span><span class="c1">// If the last-loaded value is zero, jump to end of program</span>
<span class="mi">05</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r2</span><span class="w">   </span><span class="c1">// Increment the summation result with the last-loaded value</span>
<span class="mi">06</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w">         </span><span class="c1">// Value 1 to be used for incrementing r0</span>
<span class="mi">07</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r3</span><span class="w">   </span><span class="c1">// Increment r0, so it points to the next value to add</span>
<span class="mi">08</span><span class="o">:</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="c1">// Jump to perform the addition of the next value</span>
<span class="mi">09</span><span class="o">:</span><span class="w"> </span><span class="n">halt</span>
<span class="mi">10</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">12</span><span class="w">         </span><span class="c1">// Value to be added</span>
<span class="mi">11</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="c1">// Value to be added</span>
<span class="mi">12</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="c1">// Value to be added</span>
<span class="mi">13</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">21</span><span class="w">         </span><span class="c1">// Value to be added</span>
<span class="mi">14</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">0</span><span class="w">          </span><span class="c1">// End of the values to be added</span>
<span class="mi">15</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">33</span><span class="w">         </span><span class="c1">// This value will not be added: the sum will stop earlier</span>
</pre></div>
</div>
<p>You can observe that the register <code class="docutils literal notranslate"><span class="pre">r3</span></code> is used at different times for different
purposes:</p>
<ul class="simple">
<li><p>the instructions at addresses 02 and 03 use <code class="docutils literal notranslate"><span class="pre">r3</span></code> to hold the value 0 (for
comparing with the value loaded from memory), and</p></li>
<li><p>the instructions at addresses 06 and 07 use <code class="docutils literal notranslate"><span class="pre">r3</span></code> to hold the value 1 (for
incrementing the address in <code class="docutils literal notranslate"><span class="pre">r0</span></code>).</p></li>
</ul>
</section>
</div><div class="proof example admonition" id="eg-asm-sum-values-mem">
<p class="admonition-title"><span class="caption-number">Example 11 </span> (Summing multiple values stored in memory (2))</p>
<section class="example-content" id="proof-content">
<p>This is a variation of <a class="reference internal" href="#eg-asm-sum-values-mem-until-zero">Example 10</a>: the task is
now to compute the summation of <span class="math notranslate nohighlight">\(n\)</span> values contained in memory locations with
consecutive addresses. The requirements for the program are the following:</p>
<ul class="simple">
<li><p>when the program starts, register <code class="docutils literal notranslate"><span class="pre">r0</span></code> contains the address of the first value
to sum, and register <code class="docutils literal notranslate"><span class="pre">r3</span></code> contains the number of values to sum;</p></li>
<li><p>when the program ends, register <code class="docutils literal notranslate"><span class="pre">r1</span></code> must contain the result of the sum. The
content of the other registers is not important.</p></li>
</ul>
<p>To solve this task, we can adapt the approach of
<a class="reference internal" href="#eg-asm-sum-values-mem-until-zero">Example 10</a>:</p>
<ol class="arabic simple">
<li><p>use register <code class="docutils literal notranslate"><span class="pre">r1</span></code> as an accumulator that contains the current result of the
summation, starting with 0;</p></li>
<li><p>use register <code class="docutils literal notranslate"><span class="pre">r2</span></code> to hold the next value to be added to the summation
(that value is loaded from the memory address in register <code class="docutils literal notranslate"><span class="pre">r0</span></code>); and</p></li>
<li><p>after each addition, increment the value contained in <code class="docutils literal notranslate"><span class="pre">r0</span></code> by 1, thus making
it point to the memory location of the next value to add;</p></li>
<li><p>moreover, we now need to <em>count</em> how many values we have added. According to
the task description, the number of values to add is initially given in
register <code class="docutils literal notranslate"><span class="pre">r3</span></code>: so, we can decrement the value contained in <code class="docutils literal notranslate"><span class="pre">r3</span></code> after each
addition, and halt the program when that value becomes 0.</p></li>
</ol>
<p>Here is a flowchart that summarises these ideas:</p>
<p><img alt="Flowchart" src="_images/summation-n.drawio.svg" /></p>
<p>After refining this flowchart (try it yourself!), we can derive an assembly
program like the one below. Compared to the the assembly program of
<a class="reference internal" href="#eg-asm-sum-values-mem-until-zero">Example 10</a>, the program below uses register <code class="docutils literal notranslate"><span class="pre">r2</span></code>
for various purposes, whereas register <code class="docutils literal notranslate"><span class="pre">r3</span></code> always contains the number of values
that are left to be added.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the following assembly program, the values to be used for the
summation are at the memory addresses 11…16.  Therefore, the program should be
executed by first manually setting register <code class="docutils literal notranslate"><span class="pre">r0</span></code> to 11, and register <code class="docutils literal notranslate"><span class="pre">r3</span></code> to 6.
When the program halts, the register <code class="docutils literal notranslate"><span class="pre">r1</span></code> will contain the summation result 75.</p>
</div>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">0</span><span class="w">         </span><span class="c1">// Current result of the summation</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">0</span><span class="w">         </span><span class="c1">// Value 0 used for the comparison below</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">r2</span><span class="w">  </span><span class="c1">// Do we have 0 values left to add?</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">10</span><span class="w">   </span><span class="c1">// If yes, we are done: jump to the end of the program</span>
<span class="mi">04</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r0</span><span class="w"> </span><span class="c1">// Load from memory the next value to add</span>
<span class="mi">05</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r2</span><span class="w">   </span><span class="c1">// Increment the summation result with the last-loaded value</span>
<span class="mi">06</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w">         </span><span class="c1">// Value 1 for incrementing r0 and decrementing r3</span>
<span class="mi">07</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r2</span><span class="w">   </span><span class="c1">// Increment r0, so it points to the next value to add</span>
<span class="mi">08</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">r2</span><span class="w">   </span><span class="c1">// Decrement r3, to remember we have one less value to add</span>
<span class="mi">09</span><span class="o">:</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="c1">// Jump to perform the addition of the next value</span>
<span class="mi">10</span><span class="o">:</span><span class="w"> </span><span class="n">halt</span>
<span class="mi">11</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">12</span><span class="w">         </span><span class="c1">// Value to be added</span>
<span class="mi">12</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="c1">// Value to be added</span>
<span class="mi">13</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="c1">// Value to be added</span>
<span class="mi">14</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">21</span><span class="w">         </span><span class="c1">// Value to be added</span>
<span class="mi">15</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">0</span><span class="w">          </span><span class="c1">// Value to be added</span>
<span class="mi">16</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">33</span><span class="w">         </span><span class="c1">// Value to be added</span>
</pre></div>
</div>
</section>
</div></section>
</section>
<section id="references-and-further-readings">
<span id="sec-basic-programming-references-readings"></span><h2>References and Further Readings<a class="headerlink" href="#references-and-further-readings" title="Permalink to this heading">#</a></h2>
<p>You are encouraged to read the following sections of the
<a class="reference internal" href="overview.html#sec-book"><span class="std std-ref">reference book</span></a>:</p>
<ul class="simple">
<li><p>Section 1.1 - “Computer Processing”</p></li>
<li><p>Section 1.2 - “Hardware Components”</p></li>
</ul>
<p>The following appendix of the <a class="reference internal" href="overview.html#sec-book"><span class="std std-ref">reference book</span></a> may be also
useful:</p>
<ul class="simple">
<li><p>Appendix B - “Number Systems” (in particular, binary)</p></li>
</ul>
</section>
<section id="lab-programming-exercises-with-blinkenbits">
<span id="sec-basic-programming-exercises"></span><h2>Lab: Programming Exercises with BlinkenBits<a class="headerlink" href="#lab-programming-exercises-with-blinkenbits" title="Permalink to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The exercises above (from <a class="reference internal" href="#ex-blinkenbits-display"><span class="std std-numref">Exercise 1</span></a> to
<a class="reference internal" href="#ex-blinkenbits-error"><span class="std std-numref">Exercise 5</span></a>) and the ones below are <strong>not part of the course
assessment</strong>: their purpose is to let you experiment with programming, in a
limited setting where you only have a few tools (i.e., BlinkenBits assembly
instructions) to use. The difficulty of the exercises increases progressively,
and the last ones are quite tricky. Here are some recommendations.</p>
<ul>
<li><p>Try solving all the exercises you can; feel free to try them again later
during the course.</p></li>
<li><p>Before writing assembly code, it may be helpful to sketch your algorithm as a
flowchart, and then refine the flowchart, until you can derive assembly code
from it (as we did in the examples above).</p></li>
<li><p>Compare your solutions with those written by your fellow students, and then
with the solutions</p>
<p><a class="reference internal" href="#sec-basic-programming-exercises-solutions"><span class="std std-ref">provided below</span></a>.</p>
</li>
<li><p>Ask for feedback to the teacher and TAs.</p></li>
<li><p>Feel free to experiment by writing your own BlinkenBit programs — e.g.,
programs that show some interesting animation on the BlinkenBits display. You
are welcome to post your creations on the discussion forum on DTU Learn (but
please <em>do not post your solutions to the exercises below</em>).</p></li>
</ul>
</div>
<div class="exercise admonition" id="ex-asm-load-value">

<p class="admonition-title"><span class="caption-number">Exercise 6 </span> (Loading a large value into a register (1))</p>
<section id="exercise-content">
<p>Consider the BlinkenBits assembly code given as a solution to the task in
<a class="reference internal" href="#eg-asm-load-value">Example 4</a>: it is using all 4 registers <code class="docutils literal notranslate"><span class="pre">r0</span></code>…<code class="docutils literal notranslate"><span class="pre">r3</span></code> to achieve
the final goal of having register <code class="docutils literal notranslate"><span class="pre">r0</span></code> contain the value 150. Try to change the
solution to make it use less registers.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Consider that, as shown in the last instruction in <a class="reference internal" href="#eg-asm-load-value">Example 4</a>,
the same register can be used both as operand of the addition, and as the target
where the result of the addition will be written…</p>
</div>
</section>
</div>
<div class="exercise admonition" id="ex-asm-load-value-2">

<p class="admonition-title"><span class="caption-number">Exercise 7 </span> (Loading a large value into a register (2))</p>
<section id="exercise-content">
<p>This is a follow-up to <a class="reference internal" href="#eg-asm-load-value">Example 4</a> and/or
<a class="reference internal" href="#ex-asm-load-value"><span class="std std-numref">Exercise 6</span></a>: write a BlinkenBits assembly program that puts
the value 2024 into register <code class="docutils literal notranslate"><span class="pre">r0</span></code>. Write two versions of the program:</p>
<ul class="simple">
<li><p>One version that puts the value 2024 into register <code class="docutils literal notranslate"><span class="pre">r0</span></code> using additions,
similarly to <a class="reference internal" href="#eg-asm-load-value">Example 4</a>;</p></li>
<li><p>Another version that loads the value 2024 from memory into <code class="docutils literal notranslate"><span class="pre">r0</span></code>,
similarly to <a class="reference internal" href="#eg-asm-load-value-memory">Example 7</a>.</p></li>
</ul>
</section>
</div>
<div class="exercise admonition" id="ex-asm-swap-values-1">

<p class="admonition-title"><span class="caption-number">Exercise 8 </span> (Swapping values (1))</p>
<section id="exercise-content">
<p>Write a program that swaps the values contained in registers <code class="docutils literal notranslate"><span class="pre">r0</span></code> and <code class="docutils literal notranslate"><span class="pre">r1</span></code>.</p>
<p>The program should work as follows:</p>
<ul class="simple">
<li><p>before running the program, you should write any values you like in the
registers <code class="docutils literal notranslate"><span class="pre">r0</span></code> and <code class="docutils literal notranslate"><span class="pre">r1</span></code>;</p></li>
<li><p>after the program runs and halts, register <code class="docutils literal notranslate"><span class="pre">r1</span></code> must contain the value that
was initially contained in <code class="docutils literal notranslate"><span class="pre">r0</span></code> — and <em>vice versa</em>, register <code class="docutils literal notranslate"><span class="pre">r0</span></code> must
contain the value that was initially contained in <code class="docutils literal notranslate"><span class="pre">r1</span></code>.</p></li>
</ul>
<p>The content of the other registers is not important and you can change it
freely.</p>
<p>For instance, if you set <code class="docutils literal notranslate"><span class="pre">r0</span></code> to 42 and <code class="docutils literal notranslate"><span class="pre">r1</span></code> to 430, and then run the program,
then the program must run and halt by leaving <code class="docutils literal notranslate"><span class="pre">r0</span></code> set to 430 and <code class="docutils literal notranslate"><span class="pre">r1</span></code> set to
42.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>You can use another register (besides <code class="docutils literal notranslate"><span class="pre">r0</span></code> and <code class="docutils literal notranslate"><span class="pre">r1</span></code>) to temporarily hold the
one of the values that is being swapped…</p>
</div>
</section>
</div>
<div class="exercise admonition" id="ex-asm-swap-values-2">

<p class="admonition-title"><span class="caption-number">Exercise 9 </span> (Swapping values (2))</p>
<section id="exercise-content">
<p>Write a program that swaps the values contained in the memory locations
contained in the memory locations 19 and 20.</p>
<p>The program should work as follows:</p>
<ul class="simple">
<li><p>before running the program, you should set all registers to 0 and write any
values you like in the memory locations with addresses 19 and 20;</p></li>
<li><p>after the program runs and halts, memory location 19 must contain the value
that was initially contained in the memory location 20 — and <em>vice versa</em>,
memory location 20 must contain the value that was initially contained in the
memory location 19.</p></li>
</ul>
<p>The content of the registers is not important and you can change it freely.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<ul class="simple">
<li><p>Your program will need to put the memory addresses 19 and 20 into some
registers, in order to read/write the memory contents using the
BlinkenBits register-memory transfer instructions
(<a class="reference internal" href="#table-blinkenbits-asm-reg-mem"><span class="std std-numref">Table 3</span></a>).</p></li>
<li><p>To swap the values, you can build upon your solution to <a class="reference internal" href="#ex-asm-swap-values-1"><span class="std std-numref">Exercise 8</span></a>.</p></li>
</ul>
</div>
</section>
</div>
<div class="exercise admonition" id="ex-asm-blinking-asterisk">

<p class="admonition-title"><span class="caption-number">Exercise 10 </span> (Blinking asterisk)</p>
<section id="exercise-content">
<p>Your task is to write a program that shows a blinking asterisk on the first
element of the BlinkenBits display. The blinking should be obtained by
alternating the symbols <code class="docutils literal notranslate"><span class="pre">_</span></code> and <code class="docutils literal notranslate"><span class="pre">*</span></code>.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<ul class="simple">
<li><p>To solve this task, you can write a program that uses a jump to repeat the
displaying of the desired symbols, over and over.</p></li>
<li><p>From <a class="reference internal" href="#sec-basic-programming-blinkenbits-display"><span class="std std-ref">The BlinkenBits Display</span></a> we know that:</p>
<ul>
<li><p>the first element of the display visualises the value contained in the
memory location with address 56;</p></li>
<li><p>moreover, the symbols <code class="docutils literal notranslate"><span class="pre">_</span></code> or <code class="docutils literal notranslate"><span class="pre">*</span></code> are visualised when that memory location
contains the values 62 or 70, respectively.</p></li>
</ul>
</li>
</ul>
</div>
</section>
</div>
<div class="exercise admonition" id="ex-asm-multiplication">

<p class="admonition-title"><span class="caption-number">Exercise 11 </span> (Multiplication)</p>
<section id="exercise-content">
<p>Your task is to write an assembly program that multiplies the value contained in
register <code class="docutils literal notranslate"><span class="pre">r0</span></code> by the value contained in <code class="docutils literal notranslate"><span class="pre">r1</span></code>, writes the result in <code class="docutils literal notranslate"><span class="pre">r0</span></code>, and
halts. When the program halts, the content of the other registers besides <code class="docutils literal notranslate"><span class="pre">r0</span></code>
is not important.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<ul class="simple">
<li><p>Remember that multiplying <span class="math notranslate nohighlight">\(m\)</span> by <span class="math notranslate nohighlight">\(n\)</span> is equivalent to computing <span class="math notranslate nohighlight">\(n\)</span> additions
<span class="math notranslate nohighlight">\(m + m + m + ...\)</span>. To this purpose, you may use a register to accumulate the
results of the ongoing additions; after the last addition, that register will
contain the result of the multiplication.</p></li>
<li><p>You will need to count how many additions you have performed. To this purpose,
your program might:</p>
<ul>
<li><p>decrease the value in <code class="docutils literal notranslate"><span class="pre">r1</span></code> by 1 every time it performs an addition, until
the value in <code class="docutils literal notranslate"><span class="pre">r1</span></code> becomes 0;</p></li>
<li><p>if the value in <code class="docutils literal notranslate"><span class="pre">r1</span></code> is 0, the multiplication is complete.</p></li>
</ul>
</li>
</ul>
</div>
</section>
</div>
<div class="exercise admonition" id="ex-asm-division">

<p class="admonition-title"><span class="caption-number">Exercise 12 </span> (Division)</p>
<section id="exercise-content">
<p>Your task is to write an assembly program that divides the value contained in
register <code class="docutils literal notranslate"><span class="pre">r0</span></code> by the value contained in <code class="docutils literal notranslate"><span class="pre">r1</span></code> (which you can assume different
from 0), writes the result in <code class="docutils literal notranslate"><span class="pre">r0</span></code>, and halts. When the program halts, the
content of the other registers besides <code class="docutils literal notranslate"><span class="pre">r0</span></code> is not important.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<ul class="simple">
<li><p>You can follow a strategy similar to <a class="reference internal" href="#ex-asm-multiplication"><span class="std std-numref">Exercise 11</span></a>, except that
dividing <span class="math notranslate nohighlight">\(m\)</span> by <span class="math notranslate nohighlight">\(n\)</span> is equivalent to counting how many <em>subtractions</em>
<span class="math notranslate nohighlight">\(m - n - n - n - ...\)</span> you can perform, before reaching a value that is smaller
than the divisor <span class="math notranslate nohighlight">\(n\)</span>.</p></li>
</ul>
</div>
</section>
</div>
<div class="exercise admonition" id="ex-asm-division-remainder">

<p class="admonition-title"><span class="caption-number">Exercise 13 </span> (Division and remainder)</p>
<section id="exercise-content">
<p>This is a small variation of <a class="reference internal" href="#ex-asm-division"><span class="std std-numref">Exercise 12</span></a>. Your task is to write an
assembly program that divides the value contained in register <code class="docutils literal notranslate"><span class="pre">r0</span></code> by the value
contained in <code class="docutils literal notranslate"><span class="pre">r1</span></code> (which you can assume different from 0), writes the division
result in <code class="docutils literal notranslate"><span class="pre">r0</span></code> and the division remainder in <code class="docutils literal notranslate"><span class="pre">r1</span></code>, and then halts. When the
program halts, the content of the other registers besides <code class="docutils literal notranslate"><span class="pre">r0</span></code> and <code class="docutils literal notranslate"><span class="pre">r1</span></code> is not
important.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<ul class="simple">
<li><p>Your solution to <a class="reference internal" href="#ex-asm-division"><span class="std std-numref">Exercise 12</span></a> should be already computing the
remainder of the division. So, you may just need to make sure that the
the reminder is copied into <code class="docutils literal notranslate"><span class="pre">r1</span></code> before the program halts…</p></li>
</ul>
</div>
</section>
</div>
<div class="exercise admonition" id="ex-asm-display-99">

<p class="admonition-title"><span class="caption-number">Exercise 14 </span> (Displaying a 2-digit decimal number)</p>
<section id="exercise-content">
<p>Write a program that shows the value contained in register <code class="docutils literal notranslate"><span class="pre">r0</span></code> on the
BlinkenBits display, as a decimal number, and then halts. You can assume that
the value contained in <code class="docutils literal notranslate"><span class="pre">r0</span></code> is between 0 and 99.</p>
<p>For instance, if <code class="docutils literal notranslate"><span class="pre">r0</span></code> contains the value 42, then the program should display the
digits <code class="docutils literal notranslate"><span class="pre">4</span></code> and <code class="docutils literal notranslate"><span class="pre">2</span></code>, as follows:</p>
<p><img alt="BlinkenBits display showing the value 42" src="_images/display-42.png" /></p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>The solution to this exercise is can be based on
<a class="reference internal" href="#ex-asm-division-remainder"><span class="std std-numref">Exercise 13</span></a>: if you divide the value in <code class="docutils literal notranslate"><span class="pre">r0</span></code> by 10, then
the result of the division is the number of tens, and the remainder of the
division is the number of units. You just need to show such numbers on the
BlinkenBits display…</p>
</div>
</section>
</div>
<div class="exercise admonition" id="ex-asm-complex-expr">

<p class="admonition-title"><span class="caption-number">Exercise 15 </span> (Complex expression)</p>
<section id="exercise-content">
<p>Write a program that reads computes the result of the expression
<em>((a + b) * (c - d)) / e</em>, where the values of <em>a</em>, <em>b</em>, <em>c</em>, <em>d</em>, and <em>e</em>
are contained in some memory locations of your choice. The program
must write the result of the computation into register <code class="docutils literal notranslate"><span class="pre">r0</span></code>, and then halt.
The content of the other registers is not important.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<ul class="simple">
<li><p>Your program will need to compute the result of each sub-expression, storing
its result into some register, so that result can be used for further
computations. More concretely:</p>
<ul>
<li><p>in order to compute the whole expression, you will need to first compute
the result of the sub-expression <em>((a + b) * (c - d))</em> and put it into a
register;</p>
<ul>
<li><p>in order to compute the result of this sub-expression, you will need to
compute the result of both its sub-expressions <em>(a + b)</em> and <em>(c - d)</em>
and put their results into registers;</p>
<ul>
<li><p>in order to compute the result of <em>(a + b)</em>, you will need to load the
values of <em>a</em> and <em>b</em> from memory into registers;</p></li>
<li><p>similarly, in order to compute the result of <em>(c - d)</em>, you will need to
load the values of <em>c</em> and <em>d</em> from memory into registers.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Your solution for this exercise should build upon the solutions to
<a class="reference internal" href="#ex-asm-multiplication"><span class="std std-numref">Exercise 11</span></a> and <a class="reference internal" href="#ex-asm-division"><span class="std std-numref">Exercise 12</span></a>.</p></li>
</ul>
</div>
</section>
</div>
<div class="exercise admonition" id="ex-asm-moving-one">

<p class="admonition-title"><span class="caption-number">Exercise 16 </span> (Moving “1”)</p>
<section id="exercise-content">
<p>Your task is to write a program that displays <code class="docutils literal notranslate"><span class="pre">0</span></code> in all display elements, and
an animated <code class="docutils literal notranslate"><span class="pre">1</span></code> that changes position moving from the left to the right of the
display. When the <code class="docutils literal notranslate"><span class="pre">1</span></code> reaches the rightmost element of the display, it goes back
to the first element.</p>
<p>The resulting animation should look as follows (but feel free to experiment and
make it look slightly different):</p>
<p><img alt="BlinkenBits display with moving 1" src="_images/moving-1.gif" /></p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>To solve this task, you may take some inspiration from
your solution to <a class="reference internal" href="#ex-asm-blinking-asterisk"><span class="std std-numref">Exercise 10</span></a>.</p>
<ul class="simple">
<li><p>First, you may write a program that shows <code class="docutils literal notranslate"><span class="pre">1</span></code> and then <code class="docutils literal notranslate"><span class="pre">0</span></code> on the first
display element.</p></li>
<li><p>Then, you may consider what it takes to make that program display <code class="docutils literal notranslate"><span class="pre">1</span></code> and then
<code class="docutils literal notranslate"><span class="pre">0</span></code> on a display element with a <em>different</em> memory address:</p>
<ul>
<li><p>you may e.g. duplicate your code, but using a different display memory
address to show <code class="docutils literal notranslate"><span class="pre">1</span></code> and then <code class="docutils literal notranslate"><span class="pre">0</span></code> at a different position;</p></li>
<li><p>or, you may let your program change the address of the display element where
<code class="docutils literal notranslate"><span class="pre">1</span></code> and <code class="docutils literal notranslate"><span class="pre">0</span></code> are being shown:</p>
<ul>
<li><p>that address is a value contained in a register, and if you increment that
value by one, you get the address of the next display element;</p></li>
<li><p>after you increment the display element memory address, you may use a jump
to execute again the code that displays <code class="docutils literal notranslate"><span class="pre">1</span></code> and <code class="docutils literal notranslate"><span class="pre">0</span></code>;</p></li>
<li><p>if you follow this idea, then your program will need to check whether it
has reached the address of the last display element (at address 63) —
and if so, the program must not increment the address further. Instead,
the program must change the address to use the first display element
again…</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</section>
</div>
<div class="exercise admonition" id="ex-asm-moving-alien">

<p class="admonition-title"><span class="caption-number">Exercise 17 </span> (Moving alien)</p>
<section id="exercise-content">
<p>Your task is to write a program that displays an alien symbol <code class="docutils literal notranslate"><span class="pre">👾</span></code> that moves left-to-right
and right-to-left on the BlinkenBits display, as follows:</p>
<p><img alt="Alien moving on the BlinkenBits display" src="_images/alien.gif" /></p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<ul class="simple">
<li><p>Remember that, according to <a class="reference internal" href="#table-blinkenbits-display"><span class="std std-numref">Table 1</span></a>, the alien symbol
<code class="docutils literal notranslate"><span class="pre">👾</span></code> is shown if a display memory location contains a value in the range
72…4095.</p></li>
<li><p>It may be helpful to use the solution to <a class="reference internal" href="#ex-asm-moving-one"><span class="std std-numref">Exercise 16</span></a> as a
starting point.</p></li>
<li><p>It can be helpful to split the program in two parts: one that moves the alien
left-to-right, and another that moves the alien right-to-left. You can use
a conditional jump to execute one part of the program or the other, depending
on whether the alien has reached the leftmost or rightmost position of the
display.</p></li>
</ul>
</div>
</section>
</div>
<div class="exercise admonition" id="ex-asm-sort">

<p class="admonition-title"><span class="caption-number">Exercise 18 </span> (Hard: sorting numbers on the BlinkenBits display)</p>
<section id="exercise-content">
<p>Write a program that sorts the values displayed on the BlinkenBits display.
For instance: if the BlinkenBits display is visualising the digits
<code class="docutils literal notranslate"><span class="pre">8</span> <span class="pre">3</span> <span class="pre">9</span> <span class="pre">3</span> <span class="pre">7</span> <span class="pre">6</span> <span class="pre">1</span> <span class="pre">5</span></code> when the program starts, then it should visualise the digits
<code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">3</span> <span class="pre">3</span> <span class="pre">5</span> <span class="pre">6</span> <span class="pre">7</span> <span class="pre">8</span> <span class="pre">9</span></code> when the program halts.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<ul class="simple">
<li><p>It may help to start writing a program that simply swaps the content of
the 1st display element with lowest value contained in the remaining
display elements. To this purpose, you might build upon your solution to
<a class="reference internal" href="#ex-asm-swap-values-2"><span class="std std-numref">Exercise 9</span></a>.</p></li>
<li><p>Then, you could improve this program by repeating the swap, targeting the
2nd display element, then the 3rd, then the 4th…</p></li>
</ul>
</div>
</section>
</div>
</section>
<section id="solutions-to-the-exercises">
<span id="sec-basic-programming-exercises-solutions"></span><h2>Solutions to the Exercises<a class="headerlink" href="#solutions-to-the-exercises" title="Permalink to this heading">#</a></h2>
<section id="solution-to-ex-asm-load-value">
<span id="sec-basic-programming-exercises-solutions-ex-asm-load-value"></span><h3>Solution to <a class="reference internal" href="#ex-asm-load-value"><span class="std std-numref">Exercise 6</span></a><a class="headerlink" href="#solution-to-ex-asm-load-value" title="Permalink to this heading">#</a></h3>
<p>Here is a possible solution using only two registers (<code class="docutils literal notranslate"><span class="pre">r0</span></code> and <code class="docutils literal notranslate"><span class="pre">r1</span></code>):</p>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">63</span><span class="w">       </span><span class="c1">// Write value 63 into register r1</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">24</span><span class="w">       </span><span class="c1">// Write value 24 into register r2</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r0</span><span class="w">  </span><span class="c1">// Add value contained in r0 to itself, write result in r0</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">  </span><span class="c1">// Add values contained in r0 and r1, write result in r0</span>
<span class="mi">04</span><span class="o">:</span><span class="w"> </span><span class="n">halt</span>
</pre></div>
</div>
<div class="docutils">
<h3 class="rubric" id="solution-to-ex-asm-load-value-2">Solution to <a class="reference internal" href="#ex-asm-load-value-2"><span class="std std-numref">Exercise 7</span></a></h3>
<p>Here is a possible solution, adapted from the
<a class="reference internal" href="#sec-basic-programming-exercises-solutions-ex-asm-load-value"><span class="std std-ref">solution above</span></a>.</p>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">63</span><span class="w">       </span><span class="c1">// Write value 63 into register r1</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">8</span><span class="w">        </span><span class="c1">// Write value 24 into register r2</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r0</span><span class="w">  </span><span class="c1">// Add value contained in r0 to itself, write result in r0</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r0</span><span class="w">  </span><span class="c1">// Add value contained in r0 to itself, write result in r0</span>
<span class="mi">04</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r0</span><span class="w">  </span><span class="c1">// Add value contained in r0 to itself, write result in r0</span>
<span class="mi">05</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r0</span><span class="w">  </span><span class="c1">// Add value contained in r0 to itself, write result in r0</span>
<span class="mi">06</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r0</span><span class="w">  </span><span class="c1">// Add value contained in r0 to itself, write result in r0</span>
<span class="mi">07</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">  </span><span class="c1">// Add values contained in r0 and r1, write result in r0</span>
<span class="mi">08</span><span class="o">:</span><span class="w"> </span><span class="n">halt</span>
</pre></div>
</div>
<h3 class="rubric" id="solution-to-ex-asm-swap-values-1">Solution to <a class="reference internal" href="#ex-asm-swap-values-1"><span class="std std-numref">Exercise 8</span></a></h3>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r1</span><span class="w">    </span><span class="c1">// Remember the value contained in r1 before the swap</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w">    </span><span class="c1">// Copy the value contained in r0 into r1</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r2</span><span class="w">    </span><span class="c1">// Copy the value contained in r2 (which was in r1) into r0</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="n">halt</span>
</pre></div>
</div>
<h3 class="rubric" id="solution-to-ex-asm-swap-values-2">Solution to <a class="reference internal" href="#ex-asm-swap-values-2"><span class="std std-numref">Exercise 9</span></a></h3>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">19</span><span class="w">         </span><span class="c1">// Memory address of the first value to swap</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">20</span><span class="w">         </span><span class="c1">// Memory address of the second value to swap</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r2</span><span class="w">  </span><span class="c1">// Load first value from memory into r0</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r3</span><span class="w">  </span><span class="c1">// Load second value from memory into r1</span>
<span class="mi">04</span><span class="o">:</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w">  </span><span class="c1">// Store value contained in r0 into 2nd memory address</span>
<span class="mi">05</span><span class="o">:</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r1</span><span class="w">  </span><span class="c1">// Store value contained in r1 into 1st memory address</span>
<span class="mi">06</span><span class="o">:</span><span class="w"> </span><span class="n">halt</span>
</pre></div>
</div>
<h3 class="rubric" id="solution-to-ex-asm-blinking-asterisk">Solution to <a class="reference internal" href="#ex-asm-blinking-asterisk"><span class="std std-numref">Exercise 10</span></a></h3>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">56</span><span class="w">         </span><span class="c1">// Address of the first display element</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">8</span><span class="w">          </span><span class="c1">// Memory address containing the value for &#39;_&#39; (see below)</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r1</span><span class="w">  </span><span class="c1">// Load value of underscore symbol &#39;_&#39; from memory</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">9</span><span class="w">          </span><span class="c1">// Memory address containing the value for &#39;*&#39; (see below)</span>
<span class="mi">04</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r2</span><span class="w">  </span><span class="c1">// Load value of asterisk symbol &#39;*&#39; from memory</span>
<span class="mi">05</span><span class="o">:</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r1</span><span class="w">  </span><span class="c1">// Show an underscore on the first display element</span>
<span class="mi">06</span><span class="o">:</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r2</span><span class="w">  </span><span class="c1">// Show an asterisk on the first display element</span>
<span class="mi">07</span><span class="o">:</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">5</span><span class="w">           </span><span class="c1">// Jump back to repeat the blinking</span>
<span class="mi">08</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">62</span><span class="w">          </span><span class="c1">// Value displayed as the underscore symbol &#39;_&#39;</span>
<span class="mi">09</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">70</span><span class="w">          </span><span class="c1">// Value displayed as the asterisk symbol &#39;*&#39;</span>
</pre></div>
</div>
<h3 class="rubric" id="solution-to-ex-asm-multiplication">Solution to <a class="reference internal" href="#ex-asm-multiplication"><span class="std std-numref">Exercise 11</span></a></h3>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">0</span><span class="w">         </span><span class="c1">// Write the temporary result into r2 (initially 0)</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">0</span><span class="w">         </span><span class="c1">// Write value 0 into r3</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">r3</span><span class="w">  </span><span class="c1">// Is the value in r1 equal to 0?</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">8</span><span class="w">    </span><span class="c1">// If so, multiplication is complete: jump to end of the program</span>
<span class="mi">04</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r0</span><span class="w">   </span><span class="c1">// Add the value in r1 to the temporary result in r2</span>
<span class="mi">05</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w">         </span><span class="c1">// Write the value 1 into r3</span>
<span class="mi">06</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">r3</span><span class="w">   </span><span class="c1">// Decrement the operand in r0 by 1</span>
<span class="mi">07</span><span class="o">:</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="c1">// Jump to repeat the code above</span>
<span class="mi">08</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r2</span><span class="w">        </span><span class="c1">// Move the final result of the multiplication into r0</span>
<span class="mi">09</span><span class="o">:</span><span class="w"> </span><span class="n">halt</span>
</pre></div>
</div>
<h3 class="rubric" id="solution-to-both-ex-asm-division-and-ex-asm-division-remainder">Solution to both <a class="reference internal" href="#ex-asm-division"><span class="std std-numref">Exercise 12</span></a> and <a class="reference internal" href="#ex-asm-division-remainder"><span class="std std-numref">Exercise 13</span></a></h3>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">0</span><span class="w">        </span><span class="c1">// Write the temporary result into r2 (initially 0)</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">r1</span><span class="w">  </span><span class="c1">// Check if the dividend (r0) is smaller than the divisor (r1)</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">7</span><span class="w">   </span><span class="c1">// If so, the division is complete: jump to end of the program</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">r1</span><span class="w">  </span><span class="c1">// Subtract the divisor from the dividend</span>
<span class="mi">04</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w">        </span><span class="c1">// Write value 1 into r3</span>
<span class="mi">05</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r3</span><span class="w">  </span><span class="c1">// Add 1 to the temporary result in r2</span>
<span class="mi">06</span><span class="o">:</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">1</span><span class="w">         </span><span class="c1">// Jump to repeat the code above</span>
<span class="mi">07</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w">       </span><span class="c1">// r0 contains the remainder: copy it into r1</span>
<span class="mi">08</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r2</span><span class="w">       </span><span class="c1">// Copy the final result of the division from r2 into r0</span>
<span class="mi">09</span><span class="o">:</span><span class="w"> </span><span class="n">halt</span>
</pre></div>
</div>
<h3 class="rubric" id="solution-to-ex-asm-display-99">Solution to <a class="reference internal" href="#ex-asm-display-99"><span class="std std-numref">Exercise 14</span></a></h3>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">0</span><span class="w">          </span><span class="c1">// Write the temporary division result into r2 (initially 0)</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">10</span><span class="w">         </span><span class="c1">// Write divisor (10) into r1</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">r1</span><span class="w">    </span><span class="c1">// Check if the dividend (r0) is smaller than the divisor (r1)</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">8</span><span class="w">     </span><span class="c1">// If so, the division is complete: jump below to display result</span>
<span class="mi">04</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">r1</span><span class="w">    </span><span class="c1">// Subtract the divisor from the dividend</span>
<span class="mi">05</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="c1">// Write value 1 into r3</span>
<span class="mi">06</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r3</span><span class="w">    </span><span class="c1">// Add 1 to the temporary result in r2</span>
<span class="mi">07</span><span class="o">:</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">2</span><span class="w">           </span><span class="c1">// Jump to repeat the code above</span>
<span class="mi">08</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">62</span><span class="w">         </span><span class="c1">// Put memory address of the second-to-last display element into r3</span>
<span class="mi">09</span><span class="o">:</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r2</span><span class="w">  </span><span class="c1">// Show the division result (i.e., number of tens) on the display</span>
<span class="mi">10</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">63</span><span class="w">         </span><span class="c1">// Put memory address of the last display element into r3</span>
<span class="mi">11</span><span class="o">:</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w">  </span><span class="c1">// Show the division remainder (i.e., number of units) on the display</span>
<span class="mi">12</span><span class="o">:</span><span class="w"> </span><span class="n">halt</span>
</pre></div>
</div>
<h3 class="rubric" id="solution-to-ex-asm-complex-expr">Solution to <a class="reference internal" href="#ex-asm-complex-expr"><span class="std std-numref">Exercise 15</span></a></h3>
<p>The solution below reads the values of <span class="math notranslate nohighlight">\(a\)</span>, <span class="math notranslate nohighlight">\(b\)</span>, <span class="math notranslate nohighlight">\(c\)</span>, <span class="math notranslate nohighlight">\(d\)</span>, and <span class="math notranslate nohighlight">\(e\)</span> from the
memory locations at addresses 30–34. If you change those values, the code below
will compute a different result.</p>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">30</span><span class="w">         </span><span class="c1">// Address of &#39;a&#39;</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r0</span><span class="w">  </span><span class="c1">// Load &#39;a&#39; into r0</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">31</span><span class="w">         </span><span class="c1">// Address of &#39;b&#39;</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r1</span><span class="w">  </span><span class="c1">// Load &#39;b&#39; into r1</span>
<span class="mi">04</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">    </span><span class="c1">// Add &#39;a&#39; and &#39;b&#39;, storing the result in r0</span>
<span class="mi">05</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">32</span><span class="w">         </span><span class="c1">// Address of &#39;c&#39;</span>
<span class="mi">06</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r2</span><span class="w">  </span><span class="c1">// Load &#39;c&#39; into r2</span>
<span class="mi">07</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">33</span><span class="w">         </span><span class="c1">// Address of &#39;d&#39;</span>
<span class="mi">08</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r3</span><span class="w">  </span><span class="c1">// Load &#39;d&#39; into r3</span>
<span class="mi">09</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">r3</span><span class="w">    </span><span class="c1">// Subtract &#39;d&#39; from &#39;c&#39;, storing the result in r1</span>
<span class="mi">10</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">0</span><span class="w">          </span><span class="c1">// Write the temporary multiplication result into r2 (initially 0)</span>
<span class="mi">11</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">0</span><span class="w">          </span><span class="c1">// Write value 0 into r3</span>
<span class="mi">12</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">r3</span><span class="w">   </span><span class="c1">// Is r0 equal to 0?</span>
<span class="mi">13</span><span class="o">:</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">18</span><span class="w">    </span><span class="c1">// If so, the multiplication is complete: jump to the division code</span>
<span class="mi">14</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">    </span><span class="c1">// Add the operand in r1 to the temporary result in r2</span>
<span class="mi">15</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="c1">// Write value 1 into r3</span>
<span class="mi">16</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">r3</span><span class="w">    </span><span class="c1">// Decrement the operand in r0 by 1</span>
<span class="mi">17</span><span class="o">:</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">11</span><span class="w">          </span><span class="c1">// Jump to the beginning of the multiplication code</span>
<span class="mi">18</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r2</span><span class="w">         </span><span class="c1">// Move the final result of multiplication into r0</span>
<span class="mi">19</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">34</span><span class="w">         </span><span class="c1">// Address of &#39;e&#39;</span>
<span class="mi">20</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r1</span><span class="w">  </span><span class="c1">// Load &#39;e&#39; into r1</span>
<span class="mi">21</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">0</span><span class="w">          </span><span class="c1">// Write the temporary division result into r2 (initially 0)</span>
<span class="mi">22</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">r1</span><span class="w">    </span><span class="c1">// Check if the dividend (r0) is smaller than the divisor (r1)</span>
<span class="mi">23</span><span class="o">:</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">28</span><span class="w">    </span><span class="c1">// If so, the division is complete: jump after the division code</span>
<span class="mi">24</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">r1</span><span class="w">    </span><span class="c1">// Subtract the divisor from the dividend</span>
<span class="mi">25</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="c1">// Write value 1 into r3</span>
<span class="mi">26</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r3</span><span class="w">    </span><span class="c1">// Add 1 to the temporary result in r2</span>
<span class="mi">27</span><span class="o">:</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">22</span><span class="w">          </span><span class="c1">// Jump to the beginning of the division code</span>
<span class="mi">28</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r2</span><span class="w">         </span><span class="c1">// Move the final result of division (and the entire computation) into r0</span>
<span class="mi">29</span><span class="o">:</span><span class="w"> </span><span class="n">halt</span>
<span class="mi">30</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">8</span><span class="w">           </span><span class="c1">// Value of a</span>
<span class="mi">31</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">17</span><span class="w">          </span><span class="c1">// Value of b</span>
<span class="mi">32</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">55</span><span class="w">          </span><span class="c1">// Value of c</span>
<span class="mi">33</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">23</span><span class="w">          </span><span class="c1">// Value of d</span>
<span class="mi">34</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">20</span><span class="w">          </span><span class="c1">// Value of e</span>
</pre></div>
</div>
<h3 class="rubric" id="solution-to-ex-asm-moving-one">Solution to <a class="reference internal" href="#ex-asm-moving-one"><span class="std std-numref">Exercise 16</span></a></h3>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">0</span><span class="w">             </span><span class="c1">// Value for later use</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w">             </span><span class="c1">// Value for later use</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">56</span><span class="w">            </span><span class="c1">// Init target position of &#39;1&#39; in display memory</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">63</span><span class="w">            </span><span class="c1">// Max address to reach in display memory</span>
<span class="mi">04</span><span class="o">:</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r1</span><span class="w">     </span><span class="c1">// Write &#39;1&#39; in the target display memory position</span>
<span class="mi">05</span><span class="o">:</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w">     </span><span class="c1">// Write &#39;0&#39; in the target position</span>
<span class="mi">06</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">r3</span><span class="w">      </span><span class="c1">// Has r2 reached the display memory max address?</span>
<span class="mi">07</span><span class="o">:</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">2</span><span class="w">        </span><span class="c1">// Jump if previous check was true</span>
<span class="mi">08</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">       </span><span class="c1">// Increment target display position</span>
<span class="mi">09</span><span class="o">:</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">3</span><span class="w">              </span><span class="c1">// Jump to the beginning of the program</span>
</pre></div>
</div>
<h3 class="rubric" id="solution-to-ex-asm-moving-alien">Solution to <a class="reference internal" href="#ex-asm-moving-alien"><span class="std std-numref">Exercise 17</span></a></h3>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">56</span><span class="w">         </span><span class="c1">// Current position of alien in r0 (initially 56, address of 1st display element)</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">63</span><span class="w">         </span><span class="c1">// Write the memory address of the last display element into r2</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">r2</span><span class="w">   </span><span class="c1">// Check if we have reached the last position of the display</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">13</span><span class="w">    </span><span class="c1">// If so, jump to the move-backwards part of the code</span>
<span class="mi">04</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">0</span><span class="w">          </span><span class="c1">// Value &#39;0&#39; to be displayed</span>
<span class="mi">05</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">26</span><span class="w">         </span><span class="c1">// Write mem address of the value corresponding to the &#39;👾&#39; symbol into r3</span>
<span class="mi">06</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r3</span><span class="w">  </span><span class="c1">// Load the &#39;👾&#39; symbol into r3</span>
<span class="mi">07</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="c1">// Write 1 into r1 (to be used for the increment below)</span>
<span class="mi">08</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">    </span><span class="c1">// Write the new position (r0 + 1) into r1</span>
<span class="mi">09</span><span class="o">:</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r2</span><span class="w">  </span><span class="c1">// Display a &#39;0&#39; at the current position</span>
<span class="mi">10</span><span class="o">:</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r3</span><span class="w">  </span><span class="c1">// Display the alien at the new position</span>
<span class="mi">11</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r1</span><span class="w">         </span><span class="c1">// Update the current position with the new position</span>
<span class="mi">12</span><span class="o">:</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">1</span><span class="w">           </span><span class="c1">// Jump to the start of the move-forwards part of the code</span>
<span class="mi">13</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">56</span><span class="w">         </span><span class="c1">// Write the memory address of the first position of the display (56) into r2</span>
<span class="mi">14</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">r2</span><span class="w">   </span><span class="c1">// Check if we have reached the first position of the display</span>
<span class="mi">15</span><span class="o">:</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">1</span><span class="w">     </span><span class="c1">// If so, jump to the move-forwards part of the code</span>
<span class="mi">16</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">0</span><span class="w">          </span><span class="c1">// Value &#39;0&#39; to be displayed</span>
<span class="mi">17</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">26</span><span class="w">         </span><span class="c1">// Write mem address of the value corresponding to the &#39;👾&#39; symbol into r3</span>
<span class="mi">18</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r3</span><span class="w">  </span><span class="c1">// Load the &#39;👾&#39; symbol into r3</span>
<span class="mi">19</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="c1">// Write 1 into r1 (to be used for the decrement below)</span>
<span class="mi">20</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">r1</span><span class="w">    </span><span class="c1">// Write the new position (r0 - 1) into r1</span>
<span class="mi">21</span><span class="o">:</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r2</span><span class="w">  </span><span class="c1">// Display a &#39;0&#39; at the current position</span>
<span class="mi">22</span><span class="o">:</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r3</span><span class="w">  </span><span class="c1">// Display the alien at the new position</span>
<span class="mi">23</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r1</span><span class="w">         </span><span class="c1">// Update the current position with the new position</span>
<span class="mi">24</span><span class="o">:</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">13</span><span class="w">          </span><span class="c1">// Jump to the start of the move-backwards part of the code</span>
<span class="mi">25</span><span class="o">:</span><span class="w"> </span><span class="n">halt</span>
<span class="mi">26</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">72</span><span class="w">          </span><span class="c1">// Value of the &#39;👾&#39; symbol</span>
<span class="mi">56</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">72</span><span class="w">          </span><span class="c1">// First display cell, with the alien (will be changed by the program)</span>
</pre></div>
</div>
<h3 class="rubric" id="solution-to-ex-asm-sort">Solution to <a class="reference internal" href="#ex-asm-sort"><span class="std std-numref">Exercise 18</span></a></h3>
<p>The last lines of the program contain the initial values of the BlinkenBits
display elements, which will be modified and sorted while the program runs. You
can change them to see the program sorting a different sequence of values.</p>
<div class="highlight-fsharp notranslate"><div class="highlight"><pre><span></span><span class="mi">00</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">56</span><span class="w">         </span><span class="c1">// Write address of 1st number to be checked into r0 (initially 56)</span>
<span class="mi">01</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">63</span><span class="w">         </span><span class="c1">// Write address of the last display element into r1</span>
<span class="mi">02</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">r1</span><span class="w">   </span><span class="c1">// Check if the position of 1st number is the same as the last display element</span>
<span class="mi">03</span><span class="o">:</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">22</span><span class="w">    </span><span class="c1">// If so, we are done, jump to the end of the program</span>
<span class="mi">04</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="c1">// Write 1 into r1 (for the increment below)</span>
<span class="mi">05</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">    </span><span class="c1">// Write the position of the 2nd number to be checked into r1 (initially the one right after the first number)</span>
<span class="mi">06</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">63</span><span class="w">         </span><span class="c1">// Write the position of the last display element into r2</span>
<span class="mi">07</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">r1</span><span class="w">   </span><span class="c1">// Check if the position of the 2nd number is the last display element</span>
<span class="mi">08</span><span class="o">:</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">19</span><span class="w">    </span><span class="c1">// If so, the current sorting is complete: jump to move to the next value</span>
<span class="mi">09</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r0</span><span class="w">  </span><span class="c1">// Load the first number into r2</span>
<span class="mi">10</span><span class="o">:</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r1</span><span class="w">  </span><span class="c1">// Load the second number into r3</span>
<span class="mi">11</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">r3</span><span class="w">    </span><span class="c1">// Check if the first number is smaller than the second number</span>
<span class="mi">12</span><span class="o">:</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">16</span><span class="w">    </span><span class="c1">// If so, no need to swap: jump to compare against the next value</span>
<span class="mi">13</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r0</span><span class="w">  </span><span class="c1">// Load the first number into r2</span>
<span class="mi">14</span><span class="o">:</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r2</span><span class="w">  </span><span class="c1">// Store the first number at the position of the second number</span>
<span class="mi">15</span><span class="o">:</span><span class="w"> </span><span class="n">memory</span><span class="o">@</span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r3</span><span class="w">  </span><span class="c1">// Store the second number at the position of the first number</span>
<span class="mi">16</span><span class="o">:</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="c1">// Write 1 into r2 (for the increment below)</span>
<span class="mi">17</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r2</span><span class="w">    </span><span class="c1">// Update the position of the second number to be checked  (i.e. go to the next number)</span>
<span class="mi">18</span><span class="o">:</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">6</span><span class="w">           </span><span class="c1">// Jump above to compare the two currently-selected numbers</span>
<span class="mi">19</span><span class="o">:</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="c1">// Write 1 into r2 (for the increment below)</span>
<span class="mi">20</span><span class="o">:</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">r0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">r1</span><span class="w">    </span><span class="c1">// Update the position of the first number to be checked (i.e. go to the next number)</span>
<span class="mi">21</span><span class="o">:</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="mi">1</span><span class="w">           </span><span class="c1">// Jump to compare the current 1st number with the ones that follow</span>
<span class="mi">22</span><span class="o">:</span><span class="w"> </span><span class="n">halt</span>
<span class="mi">56</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">8</span><span class="w">           </span><span class="c1">// Initial content of 1st display element</span>
<span class="mi">57</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">3</span><span class="w">           </span><span class="c1">// Initial content of 2nd display element</span>
<span class="mi">58</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">9</span><span class="w">           </span><span class="c1">// Initial content of 3rd display element</span>
<span class="mi">59</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">3</span><span class="w">           </span><span class="c1">// Initial content of 4th display element</span>
<span class="mi">60</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">7</span><span class="w">           </span><span class="c1">// Initial content of 5th display element</span>
<span class="mi">61</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">6</span><span class="w">           </span><span class="c1">// Initial content of 6th display element</span>
<span class="mi">62</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">1</span><span class="w">           </span><span class="c1">// Initial content of 7th display element</span>
<span class="mi">63</span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="mi">5</span><span class="w">           </span><span class="c1">// Initial content of 8th display element</span>
</pre></div>
</div>
</div>
</section>
</section>
</section>


                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="overview.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Module 0: Overview of the Course and Assessment</p>
      </div>
    </a>
    <a class="right-next"
       href="java-first-taste.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Module 2, Part 1: a First Taste of Java</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#some-basic-notions-of-computing">Some Basic Notions of Computing</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-very-brief-history-of-computing-and-programming">A Very Brief History of Computing and Programming</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#early-computers-people-and-devices">Early Computers: People and Devices</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#programmable-computing-machines">Programmable Computing Machines</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#stored-program-computers-and-the-von-neumann-architecture">Stored-Program Computers and the Von Neumann Architecture</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#modern-computers">Modern Computers</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#interaction-between-a-human-and-a-computer">Interaction Between a Human and a Computer</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#storage-of-data-and-programs">Storage of Data and Programs</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-a-programming-language">What is a Programming Language?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#experimenting-with-blinkenbits">Experimenting with BlinkenBits</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#an-overview-of-blinkenbits">An Overview of BlinkenBits</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-blinkenbits-display">The BlinkenBits Display</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-blinkenbits-machine-instructions">The BlinkenBits Machine Instructions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-blinkenbits-assembly-language">The BlinkenBits Assembly Language</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references-and-further-readings">References and Further Readings</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lab-programming-exercises-with-blinkenbits">Lab: Programming Exercises with BlinkenBits</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#solutions-to-the-exercises">Solutions to the Exercises</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#solution-to-ex-asm-load-value">Solution to <span class="xref std std-ref">ex-asm-load-value</span></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2024 by Alceste Scalas.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons Licence" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" /></a> This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a>.
</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>